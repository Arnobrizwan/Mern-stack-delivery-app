{"version":3,"sources":["API/currentUserAPI.js","API/upldateProfileAPI.js","img/user-edit-solid.svg","components/account/EditMyProfile.js","hooks/useEditProfileForm.js"],"names":["a","setCurrentUser","token","id","localStorage","getItem","GET","json","data","console","log","getCurrentUser","setFormIsLoading","setIsSuccessfullySend","setServerError","info","isAdmin","setAllUsers","history","PUT","response","status","usersAPI","currentUserAPI","setTimeout","push","message","UploadProfileAPI","EditProfilePage","styled","section","EditProfileForm","form","OptionList","InputWrapper","div","FormIcone","img","GoToProfileLink","GoBackLink","NewPasswordCheckbox","setIsChangingPassword","value","htmlFor","onChange","e","type","name","CellphoneInput","register","errors","placeholder","defaultValue","userNumber","role","ref","required","minLength","maxLength","pattern","style","borderColor","CityAddressOptions","selected","StreetAddressInput","userStreetAddress","StreetNumberInput","userStreetNumber","withError","useStorage","currentUser","useState","serverError","isChangingPassword","formIsLoading","defaultsValues","split","lastName","street","address","slice","join","streetNumber","splice","number","city","trim","useHistory","useForm","mode","preventDefault","userName","toLowerCase","userLastName","userCityAddress","password","userPassword","newPassword","userNewPassword","upldateProfileAPI","handleSubmit","formState","onSubmit","useEditProfileForm","to","novalidate","src","userEditIcone","alt","LoaderSpinner","small"],"mappings":"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","file":"static/js/18.86305a4a.chunk.js","sourcesContent":["import { GET } from \"../utils/http\";\r\nasync function getCurrentUser({ setCurrentUser, token }) {\r\n  const id = localStorage.getItem(\"userId\");\r\n\r\n  try {\r\n    const { json } = await GET(`/api/users/me/${id}`, token);\r\n\r\n    setCurrentUser(json.data);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport default getCurrentUser;\r\n","import currentUserAPI from \"./currentUserAPI\";\r\nimport usersAPI from \"./usersAPI\";\r\nimport { PUT } from \"../utils/http\";\r\n\r\nasync function UploadProfileAPI({\r\n  setFormIsLoading,\r\n  setIsSuccessfullySend,\r\n  setServerError,\r\n  info,\r\n  isAdmin,\r\n  setAllUsers,\r\n  token,\r\n  setCurrentUser,\r\n  history,\r\n}) {\r\n  try {\r\n    setFormIsLoading(true);\r\n    setServerError(\"\");\r\n\r\n    const id = localStorage.getItem(\"userId\");\r\n\r\n    const { response, json } = await PUT(`/api/users/me/${id}`, info, token);\r\n\r\n    setFormIsLoading(false);\r\n\r\n    if (response.status === 200) {\r\n      isAdmin && (await usersAPI({ token, setAllUsers }));\r\n\r\n      await currentUserAPI({ token, setCurrentUser });\r\n\r\n      setIsSuccessfullySend(true);\r\n      setTimeout(() => {\r\n        setIsSuccessfullySend(false);\r\n\r\n        history.push(\"/myAccount/myProfile\");\r\n      }, 3000);\r\n\r\n      return;\r\n    }\r\n\r\n    setServerError(json.message);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport default UploadProfileAPI;\r\n","export default __webpack_public_path__ + \"static/media/user-edit-solid.3b6cccdd.svg\";","import styled from \"styled-components\";\r\nimport { withError } from \"./../withError\";\r\nimport { Fragment } from \"react\";\r\nimport useEditProfileForm from \"../../hooks/useEditProfileForm\";\r\nimport { LoaderSpinner } from \"./../LoaderSpinner\";\r\nimport { ErrorMessage } from \"../contact/ContactForm\";\r\nimport {\r\n  UserNameInput,\r\n  UserLastNameInput,\r\n  UserPasswordInput,\r\n  UserNewPasswordInput,\r\n  ErrorServerMessage,\r\n} from \"../auth/SignUpForm\";\r\nimport {\r\n  OptionList,\r\n  Option,\r\n  CheckboxWrapper,\r\n} from \"../dashboard/CreateNewProductForm\";\r\nimport { FormButtons } from \"../dashboard/CreateNewProductForm\";\r\nimport { TextInput } from \"../contact/ContactForm\";\r\nimport { GoBackLink } from \"../product_details/ProductDetails\";\r\nimport userEditIcone from \"../../img/user-edit-solid.svg\";\r\n\r\nconst EditProfilePage = styled.section`\r\n  min-height: 100vh;\r\n  width: 100vw;\r\n  padding: 60px 0px;\r\n`;\r\nconst EditProfileForm = styled.form`\r\n  max-width: 400px;\r\n  width: 100%;\r\n  padding: 10px 25px 40px;\r\n  border-radius: 10px;\r\n  background: #fff;\r\n  margin: 50px auto;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n  & > input {\r\n    border: none;\r\n    background: #f0f0f0;\r\n  }\r\n  & > label {\r\n    margin: 0 auto 20px;\r\n  }\r\n  & > small {\r\n    margin: -10px auto 4px 0;\r\n  }\r\n  & > ${OptionList} {\r\n    min-width: 100%;\r\n  }\r\n\r\n  & > input:focus {\r\n    outline: 2px solid #ccc;\r\n    outline-style: auto;\r\n  }\r\n`;\r\n\r\nconst InputWrapper = styled.div`\r\n  margin-top: -15px;\r\n  & > label {\r\n    font-size: 16px;\r\n  }\r\n`;\r\nconst FormIcone = styled.img`\r\n  width: 120px;\r\n  margin: 0 auto;\r\n  margin-bottom: 20px;\r\n  margin-top: -20px;\r\n`;\r\nconst GoToProfileLink = styled(GoBackLink)`\r\n  margin-left: 15px;\r\n  &:before {\r\n    content: \"<-- \";\r\n    margin-right: 3px;\r\n  }\r\n`;\r\n\r\nfunction NewPasswordCheckbox({ setIsChangingPassword, value }) {\r\n  return (\r\n    <CheckboxWrapper>\r\n      <label htmlFor=\"newPasswordCheckbox\">Cambiar contraseña:</label>\r\n      <input\r\n        onChange={(e) => {\r\n          setIsChangingPassword(!value);\r\n        }}\r\n        id=\"newPasswordCheckbox\"\r\n        type=\"checkbox\"\r\n        name=\"newPasswordCheckbox\"\r\n      />\r\n    </CheckboxWrapper>\r\n  );\r\n}\r\nfunction CellphoneInput({ register, errors, placeholder, defaultValue }) {\r\n  return (\r\n    <Fragment>\r\n      {errors.userNumber && (\r\n        <ErrorMessage role=\"alert\">{errors.userNumber.message}</ErrorMessage>\r\n      )}\r\n\r\n      <TextInput\r\n        placeholder={placeholder}\r\n        name=\"userNumber\"\r\n        type=\"text\"\r\n        defaultValue={defaultValue || \"\"}\r\n        ref={register({\r\n          required: \"*El campo es requrido\",\r\n          minLength: {\r\n            value: 9,\r\n            message: \"*Teléfono Invalido\",\r\n          },\r\n          maxLength: {\r\n            value: 10,\r\n            message: \"*Teléfono Invalido\",\r\n          },\r\n          pattern: {\r\n            value: /[0-9]/,\r\n            message: \"*Solo se aceptan números\",\r\n          },\r\n        })}\r\n        style={{ borderColor: errors.userNumber && \"#bf0000\" }}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\nfunction CityAddressOptions({ register, defaultValue }) {\r\n  return (\r\n    <OptionList\r\n      name=\"userCityAddress\"\r\n      ref={register({\r\n        required: \"*El campo es requrido\",\r\n      })}\r\n    >\r\n      <Option\r\n        value=\"Córdoba\"\r\n        selected={defaultValue === \"córdoba\" ? true : false}\r\n      >\r\n        Córdoba\r\n      </Option>\r\n      <Option\r\n        value=\"Buenos Aires\"\r\n        selected={defaultValue === \"buenos aires\" ? true : false}\r\n      >\r\n        Buenos Aires\r\n      </Option>\r\n    </OptionList>\r\n  );\r\n}\r\nfunction StreetAddressInput({ errors, placeholder, register, defaultValue }) {\r\n  return (\r\n    <Fragment>\r\n      {errors.userStreetAddress && (\r\n        <ErrorMessage role=\"alert\">\r\n          {errors.userStreetAddress.message}\r\n        </ErrorMessage>\r\n      )}\r\n\r\n      <TextInput\r\n        placeholder={placeholder}\r\n        name=\"userStreetAddress\"\r\n        defaultValue={defaultValue || \"\"}\r\n        ref={register({\r\n          required: \"*El campo es requrido\",\r\n        })}\r\n        style={{ borderColor: errors.userStreetAddress && \"#bf0000\" }}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\nfunction StreetNumberInput({ errors, placeholder, register, defaultValue }) {\r\n  return (\r\n    <Fragment>\r\n      {errors.userStreetNumber && (\r\n        <ErrorMessage role=\"alert\">\r\n          {errors.userStreetNumber.message}\r\n        </ErrorMessage>\r\n      )}\r\n\r\n      <TextInput\r\n        placeholder={placeholder}\r\n        name=\"userStreetNumber\"\r\n        defaultValue={defaultValue || \"\"}\r\n        ref={register({\r\n          required: \"*El campo es requrido\",\r\n\r\n          maxLength: {\r\n            value: 4,\r\n            message: \"*Número Invalido\",\r\n          },\r\n          pattern: {\r\n            value: /[0-9]/,\r\n            message: \"*Solo se aceptan números\",\r\n          },\r\n        })}\r\n        style={{ borderColor: errors.userStreetNumber && \"#bf0000\" }}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction EditMyProfile() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    onSubmit,\r\n    serverError,\r\n    formIsLoading,\r\n    isChangingPassword,\r\n    setIsChangingPassword,\r\n    defaultsValues,\r\n  } = useEditProfileForm();\r\n\r\n  return (\r\n    <EditProfilePage>\r\n      <GoToProfileLink to=\"/myAccount/myProfile\">Regresar</GoToProfileLink>\r\n\r\n      <EditProfileForm onSubmit={handleSubmit(onSubmit)} novalidate>\r\n        <FormIcone src={userEditIcone} alt=\"edit-profile\" />\r\n        <UserNameInput\r\n          errors={errors}\r\n          register={register}\r\n          defaultValue={defaultsValues.name}\r\n        />\r\n        <UserLastNameInput\r\n          errors={errors}\r\n          register={register}\r\n          defaultValue={defaultsValues.lastName}\r\n        />\r\n\r\n        <CellphoneInput\r\n          defaultValue={defaultsValues.number}\r\n          errors={errors}\r\n          register={register}\r\n          placeholder=\"Tu telèfono...\"\r\n        />\r\n\r\n        <CityAddressOptions\r\n          register={register}\r\n          defaultValue={defaultsValues.city}\r\n        />\r\n\r\n        <StreetAddressInput\r\n          errors={errors}\r\n          register={register}\r\n          placeholder=\"Calle...\"\r\n          defaultValue={defaultsValues.street}\r\n        />\r\n\r\n        <StreetNumberInput\r\n          errors={errors}\r\n          register={register}\r\n          placeholder=\"Número de puerta...\"\r\n          defaultValue={defaultsValues.streetNumber}\r\n        />\r\n        <InputWrapper>\r\n          <NewPasswordCheckbox\r\n            setIsChangingPassword={setIsChangingPassword}\r\n            value={isChangingPassword}\r\n          />\r\n        </InputWrapper>\r\n\r\n        {isChangingPassword ? (\r\n          <Fragment>\r\n            <UserPasswordInput\r\n              errors={errors}\r\n              register={register}\r\n              name=\"userPassword\"\r\n              placeholder=\"Tu contraseña...\"\r\n            />\r\n            <UserNewPasswordInput\r\n              errors={errors}\r\n              register={register}\r\n              name=\"newPassword\"\r\n              placeholder=\"Nueva contraseña...\"\r\n            />\r\n          </Fragment>\r\n        ) : null}\r\n\r\n        {formIsLoading ? (\r\n          <LoaderSpinner small />\r\n        ) : (\r\n          <ErrorServerMessage>{serverError}</ErrorServerMessage>\r\n        )}\r\n\r\n        <FormButtons small />\r\n      </EditProfileForm>\r\n    </EditProfilePage>\r\n  );\r\n}\r\n\r\nexport default withError(EditMyProfile);\r\n","import {useForm} from 'react-hook-form';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useState} from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\nimport upldateProfileAPI from '../API/upldateProfileAPI'\r\n\r\n\r\n\r\nexport default function useEditProfileForm(){\r\n\r\n  const {token,setCurrentUser,setAllUsers,isAdmin,setIsSuccessfullySend,currentUser} = useStorage()\r\n\r\n  const [serverError,setServerError] = useState(\"\");\r\n    const [isChangingPassword,setIsChangingPassword] = useState(false);\r\nconst [formIsLoading,setFormIsLoading] = useState(false);\r\n\r\nconst defaultsValues = {\r\n  name:currentUser.name.split(' ')[0],\r\n  lastName:currentUser.name.split(' ')[1],\r\n  street:currentUser.address.split(',')[0].split(' ').slice(0,-1).join(' '),\r\n  streetNumber:currentUser.address.split(',')[0].split(' ').splice(-1) ,\r\n  number: currentUser.number,\r\ncity:currentUser.address.split(',')[1].trim(),\r\n}\r\n\r\n   const history = useHistory()\r\n\r\n    const { register, handleSubmit, formState: { errors } }= useForm({\r\n  mode: \"onBlur\",\r\n});\r\n\r\nasync function onSubmit(data,e) {\r\n\r\n e.preventDefault()\r\n\r\n\r\nconst name =  data.userName?.toLowerCase(),\r\n lastName =  data.userLastName?.toLowerCase(),\r\ncity = data.userCityAddress?.toLowerCase(),\r\nstreet = data.userStreetAddress?.toLowerCase();\r\n\r\nconst info ={\r\nname,\r\nlastName,\r\npassword:data.userPassword || null,\r\nnewPassword:data.userNewPassword || null,\r\nnumber:data.userNumber,\r\ncity,\r\nstreet,\r\nstreetNumber: data.userStreetNumber\r\n}\r\n await upldateProfileAPI({\r\n  setFormIsLoading,\r\nsetIsSuccessfullySend,\r\nsetServerError,\r\ninfo,\r\nisAdmin,\r\nsetAllUsers,\r\ntoken,\r\nhistory,\r\n})\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    onSubmit ,\r\n    serverError,\r\n    setCurrentUser,\r\nformIsLoading,\r\ndefaultsValues,\r\nisChangingPassword,\r\nsetIsChangingPassword\r\n}\r\n\r\n\r\n}"],"sourceRoot":""}