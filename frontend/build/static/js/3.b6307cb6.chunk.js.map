{"version":3,"sources":["components/product_details/ProductDetails.js","hooks/useProductDetails.js","API/getCategoriesAPI.js","components/dashboard/DashboardNewProduct.js","API/updateProductAPI.js","img/pencil-edit-form.svg","components/dashboard/EditProductForm.js","hooks/useEditProductForm.js","components/dashboard/DashboardEditProduct.js"],"names":["bounceLeft","keyframes","GoBackLink","styled","StyledLink","ProductDetails","section","PrductImg","img","ImageWrapper","div","props","isLoaded","defaultImage","Name","h2","Line","Deltail","dd","Leyend","dt","theme","darckYellow","Description","ProductDetailsPage","useStorage","setIsLoading","cartProducts","location","useLocation","history","useHistory","goBackPath","URLSearchParams","search","get","useState","setIsLoaded","thisProductInfo","setThisProductInf","productId","useParams","useEffect","controller","AbortController","signal","fechProducts","a","fetch","res","status","push","json","data","name","console","log","i","abort","isInShoppingCart","find","product","info","_id","useProductDetails","to","src","alt","onLoad","AddToCartButton","category","size","price","description","getCategoryAPI","setAllCategories","headers","Headers","append","setting","method","LinksWrapper","DashboardNewProduct","token","formData","id","nameValue","categoryValue","sizeValue","descriptionValue","priceValue","setIsSuccessfullySend","setFormIsLoading","body","url","getCategoriesAPI","setTimeout","alert","updateProductAPI","EditIcone","Logo","UpdateNewProductForm","productToEdit","categories","useForm","mode","register","handleSubmit","errors","formState","formIsLoading","setNameValue","setCategoryValue","setPriceValue","setSizeValue","setDescriptionValue","onSubmit","e","preventDefault","FormData","active","target","state","checked","parseInt","files","useEditProductForm","editIcone","enctype","productName","role","style","borderColor","placeholder","value","onChange","ref","required","defaultValues","productCategory","productSize","defaultValue","pattern","productPrice","message","map","cat","selected","toLowerCase","type","LoaderSpinner","small","as","StyledSection","main","DashboardEditProduct"],"mappings":"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","file":"static/js/3.b6307cb6.chunk.js","sourcesContent":["import styled, {keyframes}  from 'styled-components'\r\nimport useProductDetails from '../../hooks/useProductDetails'\r\nimport {StyledLink } from '../Header'\r\nimport defaultImage from '../../img/default-image.png';\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\nexport const bounceLeft = keyframes `\r\n  0% { left:15px;}\r\n  50% { left:20px;}\r\n   100% { left:15px;}\r\n`\r\nexport const GoBackLink = styled(StyledLink)`\r\nposition:absolute;\r\nleft:15px;\r\nmargin: 0 ;\r\nfont-size:15px;\r\npadding: 10px 0;\r\nz-index:800;\r\n  animation: ${bounceLeft} 1.2s linear infinite;\r\n&:before{\r\n  content : \"<-- \";\r\n  margin-right:3px;\r\n}\r\n`;\r\nconst ProductDetails = styled.section`\r\n    width: 90vw;\r\n    padding: 60px 15px 20px;\r\n    margin: 0px auto;\r\n    display: flex;\r\n  height: 100%;\r\nmax-height: 800px;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n@media screen and (min-width:550px){\r\n width:70vw;\r\n}\r\n@media screen and (min-width:850px){\r\n width:50vw;\r\n}\r\n@media screen and (min-width:850px){\r\n width:50vw;\r\n}\r\n@media screen and (min-width:1200px){\r\n    width: 70vw;\r\n    height: 100%;\r\n    max-height: 800px;\r\n}\r\n& >button {\r\ntransform:scale(0.8);\r\nmargin-top:-45px;\r\nmargin-bottom:10px;\r\n@media screen and (min-width:600px){\r\nmargin-top:-50px;\r\ntransform:scale(1);\r\n}\r\n`\r\nconst PrductImg = styled.img`\r\nposition:relative;\r\nleft:50%;\r\ntransform:translate(-50%, 0);\r\n   height: 100%;\r\n    max-width: 90%;\r\n    max-height: 250px;\r\n@media screen and (min-width:500px){\r\n max-height: 350px;\r\nmax-width: 350px;\r\n}\r\n`;\r\nconst ImageWrapper =styled.div`\r\npadding-top:40px;\r\n    min-height: 300px;\r\n  background-image: ${props => props.isLoaded ? 'none' : `url(${defaultImage})`};\r\n      background-repeat: no-repeat;\r\n    background-size: 100% auto;\r\n    backface-visibility: hidden;\r\n    background-position: center;\r\n   @media screen and (min-width:400px){\r\nbackground-size: auto 100%;\r\n    }\r\n`;\r\nconst Name =styled.h2`\r\nmargin: 10px 0 ;\r\nletter-spasing:0;\r\nline-height:35px;\r\nmax-width:200px;\r\nfont-size:30px;\r\ntext-transform:capitalize ;\r\n@media screen and (min-width:600px){\r\n  font-size:35px;\r\n  margin-bottom: 20px;\r\n  max-width:100%;\r\n}\r\n`\r\nconst Line = styled.div`\r\n\r\nwidth:100%;\r\nheight:1px;\r\nbackground:#fcaf01;\r\nmargin:5px auto;\r\n`\r\n;\r\n\r\n\r\n\r\nconst Deltail = styled.dd`\r\nline-height:25px;\r\ntext-transform:capitalize ;\r\n`;\r\nconst Leyend= styled.dt`\r\ncolor: ${props => props.theme.darckYellow};\r\nline-height:25px;\r\ntext-transform:capitalize ;\r\n    float: left;\r\n`;\r\nconst Description = styled(Deltail)`\r\ntext-transform:none;\r\n\r\n` \r\nfunction ProductDetailsPage(){\r\n\r\n\r\n\r\n\r\nconst {isInShoppingCart,isLoaded,thisProductInfo,goBackPath,setIsLoaded} = useProductDetails()\r\n\r\n\r\n  return(\r\n\r\n      \r\n<ProductDetails >\r\n    \r\n             <GoBackLink to={goBackPath} > Regresar</GoBackLink>\r\n<ImageWrapper  isLoaded={isLoaded}>\r\n  <PrductImg src={thisProductInfo?.img}  alt={thisProductInfo?.name} onLoad={()=> setIsLoaded(true)} />\r\n  </ImageWrapper>\r\n    <Line/>\r\n  <Name>{thisProductInfo?.name}</Name>\r\n  {(!isInShoppingCart) ? \r\n   <AddToCartButton thisProductInfo={thisProductInfo}/>\r\n        : null\r\n}\r\n    <Line/>\r\n    <dl>\r\n    <Leyend>Categoría:</Leyend> <Deltail>{thisProductInfo?.category}</Deltail>\r\n<Leyend>Porción:</Leyend> <Deltail>{thisProductInfo?.size}</Deltail>\r\n<Leyend>Precio:</Leyend> <Deltail>${thisProductInfo?.price}</Deltail>\r\n <Leyend>Descripción:</Leyend> <Description>{thisProductInfo?.description}</Description>\r\n    </dl>\r\n  \r\n</ProductDetails>\r\n  );\r\n}\r\n\r\nexport default ProductDetailsPage","import { useEffect,useState} from 'react'\r\nimport {useParams,useLocation,useHistory} from 'react-router-dom'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default function useProductDetails(){\r\n\r\n  const {setIsLoading,cartProducts} = useStorage()\r\n  \r\nlet location = useLocation()\r\nlet history = useHistory()\r\nlet search = new URLSearchParams(location.search);\r\n\r\nlet goBackPath = search.get(\"from\");\r\n\r\nconst [isLoaded,setIsLoaded] = useState(false)\r\n const [thisProductInfo,setThisProductInf] = useState({})\r\n const {productId}=  useParams()\r\n\r\n\r\n useEffect(()=>{\r\n\r\n    setIsLoading(true)\r\n\r\n  const controller = new AbortController()\r\n const signal = controller.signal\r\n\r\n  const fechProducts = async () =>{\r\n  try{\r\n\r\n     let res = await fetch(`/api/products/${productId}`,{signal,})\r\n\r\n   if(res.status === 404) {\r\n            setIsLoading(false)\r\n      return history.push('/notFound')\r\n     }\r\n     let json = await res.json()\r\n\r\n    setThisProductInf(json.data)\r\n     setIsLoading(false)\r\n\r\n  }catch(err){\r\n    if(err.name === 'AbortError'){\r\n   console.log('Fetch Canseled: caught abort')\r\n }else{\r\n\r\n     console.log(err)\r\n    for(let i = 0; i < 6 ;i++){\r\n    fechProducts()\r\n\r\n        }\r\n\r\n \r\n  }\r\n}\r\n  }\r\n  fechProducts()\r\n \r\n  return () =>{\r\n     controller.abort()\r\n   }   \r\n   \r\n },[productId])\r\n\r\n \r\nlet isInShoppingCart = cartProducts.find(product => product.info._id === thisProductInfo?._id) ? true : false\r\n\r\nreturn{ isInShoppingCart,isLoaded,thisProductInfo,goBackPath,setIsLoaded}\r\n\r\n}","\r\n\r\nexport default async function getCategoryAPI(setAllCategories){\r\n\r\n   const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\n     \r\n\r\n    const setting = {\r\n          method: 'GET',\r\n          headers: headers,\r\n\r\n        }\r\ntry{\r\nlet res =  await fetch('/api/categories',setting)\r\nlet  json= await res.json()\r\n\r\nconst {data} = json\r\n\r\nsetAllCategories(data)\r\n\r\n\r\n}catch(err){\r\n\r\n\r\n  console.log(err)\r\n}\r\n}  \r\n","import styled  from 'styled-components'\r\nimport CreateNewProductForm from './CreateNewProductForm'\r\nimport {StyledSection} from './DashboardEditProduct'\r\nimport {GoBackLink} from '../product_details/ProductDetails'\r\n\r\n\r\nexport const LinksWrapper =styled.div`\r\ndisplay:flex;\r\nmargin:5px 0;\r\nmargin-left:15px;\r\nwidth:max-content;\r\n`;\r\nexport default function DashboardNewProduct(){\r\n  return(\r\n    <StyledSection>\r\n          <LinksWrapper>\r\n             <GoBackLink to=\"/dashboard/myProducts\" >Regresar </GoBackLink>\r\n          </LinksWrapper>\r\n   \r\n<CreateNewProductForm/>\r\n    </StyledSection>\r\n\r\n  )\r\n}"," import getCategoriesAPI from './getCategoriesAPI'\r\n \r\n async function updateProductAPI(\r\n{    token,\r\n    formData,\r\n    id,\r\n    nameValue,\r\ncategoryValue,\r\nsizeValue,\r\ndescriptionValue,\r\npriceValue,\r\nsetIsSuccessfullySend,\r\nsetFormIsLoading,\r\nhistory,\r\nsetAllCategories\r\n}\r\n){\r\n     \r\n\r\n      \r\n      \r\n        const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\n      headers.append('Authorization', `Bearer ${token}`);\r\n\r\n\r\n        const setting = {\r\n          method: 'PUT',\r\n          headers: headers,\r\n          body: formData,\r\n        }\r\n\r\nlet url =`/api/products/${id}`\r\n  try {\r\n        let res = await fetch(url , setting);\r\n       setFormIsLoading(false)\r\n\r\n      if(res.status === 200){\r\n\r\n       await getCategoriesAPI(setAllCategories)\r\n\r\n           setIsSuccessfullySend(true)\r\n          setTimeout(() => {\r\n           setIsSuccessfullySend(false)\r\n        return history.push('/dashboard/myProducts')\r\n}, 2000);\r\n      }\r\n \r\n\r\n\r\n      if(res.status === 403) return   alert('Se require rol de Administrador') \r\n      } catch (err) {\r\n\r\n        console.log(err)\r\n      }\r\n  }\r\n\r\nexport default updateProductAPI","export default __webpack_public_path__ + \"static/media/pencil-edit-form.1d2432a8.svg\";","import styled  from 'styled-components'\r\nimport useEditProductForm from '../../hooks/useEditProductForm'\r\nimport {ErrorMessage} from '../contact/ContactForm';\r\nimport {LoaderSpinner} from './../LoaderSpinner'\r\nimport {Logo} from '../auth/SingupForm'\r\nimport {ThisFormCard, ThisForm} from './CreateNewProductForm'\r\nimport \r\n{\r\n  Description,\r\n  StyledSection,\r\n  FormTitle,\r\n  TextInput,\r\nButtonsWrapper,\r\nLoadButton,\r\nProductState,\r\nResetButton,\r\nDropZone,\r\nOptionList,\r\nOption\r\n} from './CreateNewProductForm'\r\nimport editIcone from '../../img/pencil-edit-form.svg'\r\n\r\n\r\nconst EditIcone = styled(Logo)` \r\ntransform:scale(0.75);\r\n`\r\n\r\n\r\nexport default function UpdateNewProductForm() {\r\n\r\nconst {categories,register ,handleSubmit, errors, onSubmit,productToEdit,setNameValue,setCategoryValue,setPriceValue,setSizeValue,setDescriptionValue,nameValue,categoryValue,\r\npriceValue,sizeValue,descriptionValue,formIsLoading\r\n} = useEditProductForm()\r\n \r\n  return(\r\n    <StyledSection>\r\n   \r\n      <ThisFormCard>\r\n        <EditIcone src = {editIcone} alt=\"new-product\"></EditIcone>\r\n        <ThisForm enctype=\"multipart/form-data\" onSubmit={handleSubmit(onSubmit)}>\r\n             <FormTitle>Editar {productToEdit?.name}</FormTitle>\r\n\r\n               {errors.productName && <ErrorMessage  role=\"alert\">*El campo es obligario</ErrorMessage>}\r\n\r\n <TextInput \r\n style={{ borderColor: errors.productName && \"#bf0000\" }  }\r\n          placeholder=\"Nombre...\"\r\n                value={nameValue }\r\n                onChange={(e)=>setNameValue(e.target.value)}\r\n                       name=\"productName\"\r\n          ref={register({\r\n             required: false,\r\n               defaultValues : {nameValue},\r\n\r\n          })}\r\n          />\r\n              \r\n            \r\n         {errors.productCategory && <ErrorMessage  role=\"alert\">*El campo es obligario</ErrorMessage>}\r\n                 <TextInput\r\n                  style={{ borderColor: errors.productCategory && \"#bf0000\" }  }\r\n                    placeholder=\"Categoría...\"\r\n                    name=\"productCategory\"\r\n         value={categoryValue}\r\n                onChange={(e)=>setCategoryValue(e.target.value)}\r\n          ref={register({\r\n             required: false,\r\n           defaultValues : {categoryValue},\r\n          })}\r\n         />\r\n              \r\n         \r\n    {errors.size && <ErrorMessage  role=\"alert\">*Se requiere la unidad de medida</ErrorMessage>}\r\n\r\n          <TextInput \r\n           style={{ borderColor: errors.productSize && \"#bf0000\" }  }\r\n           defaultValue={sizeValue}\r\n           onChange={(e) => setSizeValue(e.target.value)}\r\n          placeholder=\"Cantidad/Tamaño...\"\r\n                      name=\"size\"\r\n                \r\n          ref={register({\r\n             required: false,\r\n             defaultValues : {sizeValue},\r\n             pattern:{\r\n               value: /^(?:[0-9]+\\s\\w+[a-z]|[a-z]+[0-9])[a-z0-9]*$/i,\r\n\r\n             }\r\n          })}\r\n          />\r\n                \r\n  \r\n           {errors.productPrice && <ErrorMessage  role=\"alert\">*Solo se admiten números</ErrorMessage>}\r\n          <TextInput placeholder=\"Precio...\"\r\n           style={{ borderColor: errors.productPrice && \"#bf0000\" }  }\r\n                      name=\"productPrice\"\r\n             value={priceValue}\r\n           onChange={(e) => setPriceValue(e.target.value)}\r\n          ref={register({\r\n             required: false,\r\n              defaultValues : {priceValue},\r\n             pattern:{\r\n               value: [0-9],\r\n\r\n             }\r\n          })}\r\n          \r\n          />\r\n\r\n\r\n    {errors.category && <ErrorMessage  role=\"alert\">{errors.category.message}</ErrorMessage>}\r\n<OptionList \r\nname=\"category\"\r\n    style={{ borderColor: errors.category && \"#bf0000\" }  }\r\n                  \r\n         onChange = {(e) => setCategoryValue(e.target.value)}\r\n          ref={register({\r\n       required: '*El campo es requrido',\r\n    \r\n          })}\r\n>\r\n  {categories?.map(cat =>\r\n\r\n<Option key={cat?._id } value={cat?.name}  \r\n\r\nselected = {categoryValue?.toLowerCase() === cat?.name ? true : false}\r\n\r\n\r\n>{cat?.name}</Option>\r\n\r\n  )}\r\n\r\n</OptionList>\r\n\r\n {errors.description && <ErrorMessage  role=\"alert\">{errors.description.message}</ErrorMessage>}\r\n      <Description \r\n      placeholder=\"Descripción...\"\r\n       style={{ borderColor: errors.description && \"#bf0000\" }  }\r\n                 value={descriptionValue }\r\n                      name=\"description\"\r\n                   onChange={(e) => setDescriptionValue(e.target.value)}\r\n          ref={register({\r\n              required:'*El campo es requerido' ,\r\n             defaultValues:{descriptionValue }\r\n          })}\r\n      >\r\n\r\n      </Description>\r\n          <DropZone type=\"file\" name=\"img\"   \r\n\r\n          ref={register({\r\n             required: false,\r\n              \r\n          })}></DropZone>  \r\n\r\n<ProductState state={productToEdit?.active ? \"checked\" : null } />\r\n\r\n   {formIsLoading  &&  <LoaderSpinner small /> }\r\n   \r\n         <ButtonsWrapper>\r\n<LoadButton as=\"input\" type=\"submit\" value=\"Cargar\"/>\r\n<ResetButton as=\"input\" type=\"reset\" value=\"Abortar\"/>\r\n\r\n          </ButtonsWrapper>\r\n      \r\n\r\n        </ThisForm>\r\n      </ThisFormCard>\r\n    </StyledSection>\r\n  );\r\n}","import  updateProductAPI from '../API/updateProductAPI'\r\nimport {useForm} from 'react-hook-form'\r\nimport {useStorage} from '../context/useStorage'\r\nimport {  useState,useEffect} from 'react'\r\nimport {useHistory} from 'react-router-dom';\r\n\r\n\r\n  \r\nexport default function useEditProductForm(){\r\n\r\n  const {token,productToEdit,setIsSuccessfullySend,setAllCategories,categories} = useStorage()\r\n\r\n        const { register, handleSubmit, formState: { errors } }= useForm({\r\n  mode: \"onBlur\",\r\n});\r\n\r\n   const history = useHistory()\r\n\r\n  const [formIsLoading,setFormIsLoading] = useState(false);\r\nconst [nameValue, setNameValue] = useState(productToEdit.name)\r\nconst [categoryValue, setCategoryValue] = useState(productToEdit.category)\r\nconst [priceValue, setPriceValue] = useState(productToEdit.price)\r\nconst [sizeValue, setSizeValue] = useState(productToEdit.size )\r\nconst [descriptionValue, setDescriptionValue] = useState(productToEdit.description )\r\n\r\nlet id= productToEdit._id\r\n\r\n\r\nuseEffect(() => {\r\n setNameValue (productToEdit.name)\r\nsetCategoryValue (productToEdit.category)\r\n setPriceValue (productToEdit.price)\r\nsetSizeValue (productToEdit.size )\r\nsetDescriptionValue(productToEdit.description)\r\n\r\n}, [productToEdit])\r\n \r\n function onSubmit(data,e) {\r\nsetFormIsLoading(true)\r\n  e.preventDefault()\r\n\r\n   const formData = new FormData()\r\n      let active =  e.target.state.checked ? true : false ;\r\nlet price =parseInt(priceValue)\r\n\r\n          formData.append('img',e.target.img.files[0])\r\n        formData.append('name', nameValue)\r\n        formData.append('category', categoryValue)\r\n        formData.append('size', sizeValue)\r\n        formData.append('description', descriptionValue)\r\n        formData.append('price', price)\r\n        formData.append('active', active)\r\n\r\nupdateProductAPI({\r\n    token,\r\n    formData,\r\n    id,\r\n    nameValue,\r\ncategoryValue,\r\nsizeValue,\r\ndescriptionValue,\r\npriceValue,\r\nsetIsSuccessfullySend,\r\nsetFormIsLoading,\r\nsetAllCategories,\r\nhistory\r\n})\r\n\r\n  }\r\n\r\nreturn { \r\n  register ,\r\n  handleSubmit, \r\n  errors, \r\n  onSubmit,\r\nsetNameValue,\r\nsetCategoryValue,\r\nsetPriceValue,\r\nsetSizeValue,\r\nsetDescriptionValue,\r\ncategories,\r\nnameValue,\r\ncategoryValue,\r\npriceValue,\r\nsizeValue,\r\ndescriptionValue,\r\nformIsLoading,\r\nproductToEdit,\r\n}\r\n\r\n}\r\n","import styled  from 'styled-components'\r\nimport EditProductForm from './EditProductForm'\r\nimport {GoBackLink} from '../product_details/ProductDetails'\r\nimport { LinksWrapper} from './DashboardNewProduct'\r\nexport const StyledSection = styled.main`\r\npadding-top: 60px ;\r\nmargin:0;\r\n min-height:100vh;\r\nwidth:100vw;\r\n`\r\nconst DashboardEditProduct = () =>{\r\n  return(\r\n     <StyledSection>\r\n         <LinksWrapper>\r\n    <GoBackLink to=\"/dashboard/myProducts\" >Regresar</GoBackLink>\r\n          </LinksWrapper>\r\n       <EditProductForm/>\r\n     </StyledSection>\r\n  );\r\n}\r\n\r\nexport default  DashboardEditProduct"],"sourceRoot":""}