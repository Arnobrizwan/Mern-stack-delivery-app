(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[16],{146:function(e,r,t){"use strict";var n=t(5),s=t.n(n),a=t(10);function o(){return(o=Object(a.a)(s.a.mark((function e(r){var t,n,a,o,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.token,n=r.setAllUsers,(a=new Headers).append("Accept","application/json"),a.append("Authorization","Bearer ".concat(t)),o={method:"GET",headers:a},e.prev=5,e.next=8,fetch("/api/users",o);case 8:return l=e.sent,e.next=11,l.json();case 11:u=e.sent,200===l.status&&n(u),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}r.a=function(e){return o.apply(this,arguments)}},149:function(e,r,t){"use strict";var n=t(5),s=t.n(n),a=t(10);function o(){return(o=Object(a.a)(s.a.mark((function e(r){var t,n,a,o,l,u,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.setCurrentUser,n=r.token,a=localStorage.getItem("userId"),(o=new Headers).append("Accept","application/json"),o.append("Authorization","Bearer ".concat(n)),l={method:"GET",headers:o},e.prev=6,e.next=9,fetch("/api/users/me/".concat(a),l);case 9:return u=e.sent,e.next=12,u.json();case 12:i=e.sent,c=i.data,t(c),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}r.a=function(e){return o.apply(this,arguments)}},161:function(e,r,t){"use strict";t.r(r);var n=t(3),s=t(2),a=t(53),o=t(1),l=t(5),u=t.n(l),i=t(10),c=t(6),d=t(131),p=t(8),b=t(7),m=t(149),j=t(146);function h(){return(h=Object(i.a)(u.a.mark((function e(r){var t,n,s,a,o,l,i,c,d,p,b,h,f,g,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.setFormIsLoading,n=r.setIsSuccessfullySend,s=r.setServerError,a=r.info,o=r.isAdmin,l=r.setAllUsers,i=r.token,c=r.setCurrentUser,d=r.history,e.prev=1,t(!0),s(""),p=localStorage.getItem("userId"),(b=new Headers).append("Accept","application/json"),b.append("Content-Type","application/json"),b.append("Authorization","Bearer ".concat(i)),h={method:"PUT",headers:b,body:JSON.stringify(a)},e.next=12,fetch("/api/users/me/".concat(p),h);case 12:return f=e.sent,e.next=15,f.json();case 15:if(g=e.sent,t(!1),200!==f.status){e.next=27;break}if(e.t0=o,!e.t0){e.next=22;break}return e.next=22,Object(j.a)({token:i,setAllUsers:l});case 22:return e.next=24,Object(m.a)({token:i,setCurrentUser:c});case 24:return n(!0),setTimeout((function(){n(!1),d.push("/myAccount/myProfile")}),3e3),e.abrupt("return");case 27:v=g.message,console.log(v),s(v),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(1),console.log(e.t1);case 35:case"end":return e.stop()}}),e,null,[[1,32]])})))).apply(this,arguments)}var f=function(e){return h.apply(this,arguments)};var g,v,x,O,w,S=t(31),y=t(133),C=t(139),A=t(144),k=t(23),N=t.p+"static/media/user-edit-solid.3b6cccdd.svg",I=t(0),P=s.b.section(g||(g=Object(n.a)(["\n    min-height:100vh;\nwidth:100vw;\npadding: 60px 0px;\n\n"]))),V=s.b.form(v||(v=Object(n.a)(["\n\n  max-width:400px;\n  width:100%;\n      padding: 10px 25px 40px;\n    border-radius: 10px;\n    background: #fff;\nmargin: 50px auto;\ndisplay:flex;\nflex-flow:column;\nalign-items:center;\n& > input {\n  border:none;\n  background: #f0f0f0;\n}\n&> label {\n  margin: 0 auto 20px\n}\n&> small {\nmargin: -10px auto 4px 0;\n}\n& >"," {\n  min-width: 100%\n}\n\n& > input:focus {\n  outline: 2px solid #ccc;\n    outline-style: auto;\n}\n  "])),A.i),L=s.b.div(x||(x=Object(n.a)(["\n  margin-top:-15px;\n  & > label{\nfont-size:16px;\n  }\n\n  "]))),U=s.b.img(O||(O=Object(n.a)(["\nwidth:120px;\nmargin: 0 auto;\nmargin-bottom:20px;\nmargin-top:-20px;\n"]))),E=Object(s.b)(k.a)(w||(w=Object(n.a)(['\nmargin-left: 15px;\n&:before{\n      content: "<-- ";\n    margin-right: 3px;\n}\n'])));function T(e){var r=e.setIsChangingPassword,t=e.value;return Object(I.jsxs)(A.b,{children:[Object(I.jsx)("label",{htmlFor:"newPasswordCheckbox",children:"Cambiar contrase\xf1a:"}),Object(I.jsx)("input",{onChange:function(e){r(!t)},id:"newPasswordCheckbox",type:"checkbox",name:"newPasswordCheckbox"})]})}function q(e){var r=e.register,t=e.errors,n=e.placeholder,s=e.defaultValue;return Object(I.jsxs)(o.Fragment,{children:[t.userNumber&&Object(I.jsx)(y.a,{role:"alert",children:t.userNumber.message}),Object(I.jsx)(y.b,{placeholder:n,name:"userNumber",type:"text",defaultValue:s||"",ref:r({required:"*El campo es requrido",minLength:{value:9,message:"*Tel\xe9fono Invalido"},maxLength:{value:10,message:"*Tel\xe9fono Invalido"},pattern:{value:/[0-9]/,message:"*Solo se aceptan n\xfameros"}}),style:{borderColor:t.userNumber&&"#bf0000"}})]})}function F(e){var r=e.register,t=e.defaultValue;return Object(I.jsxs)(A.i,{name:"userCityAddress",ref:r({required:"*El campo es requrido"}),children:[Object(I.jsx)(A.h,{value:"C\xf3rdoba",selected:"c\xf3rdoba"===t,children:"C\xf3rdoba"}),Object(I.jsx)(A.h,{value:"Buenos Aires",selected:"buenos aires"===t,children:"Buenos Aires"})]})}function B(e){var r=e.errors,t=e.placeholder,n=e.register,s=e.defaultValue;return Object(I.jsxs)(o.Fragment,{children:[r.userStreetAddress&&Object(I.jsx)(y.a,{role:"alert",children:r.userStreetAddress.message}),Object(I.jsx)(y.b,{placeholder:t,name:"userStreetAddress",defaultValue:s||"",ref:n({required:"*El campo es requrido"}),style:{borderColor:r.userStreetAddress&&"#bf0000"}})]})}function z(e){var r=e.errors,t=e.placeholder,n=e.register,s=e.defaultValue;return Object(I.jsxs)(o.Fragment,{children:[r.userStreetNumber&&Object(I.jsx)(y.a,{role:"alert",children:r.userStreetNumber.message}),Object(I.jsx)(y.b,{placeholder:t,name:"userStreetNumber",defaultValue:s||"",ref:n({required:"*El campo es requrido",maxLength:{value:4,message:"*N\xfamero Invalido"},pattern:{value:/[0-9]/,message:"*Solo se aceptan n\xfameros"}}),style:{borderColor:r.userStreetNumber&&"#bf0000"}})]})}r.default=Object(a.a)((function(){var e=function(){var e=Object(b.a)(),r=e.token,t=e.setCurrentUser,n=e.setAllUsers,s=e.isAdmin,a=e.setIsSuccessfullySend,l=e.currentUser,m=Object(o.useState)(""),j=Object(c.a)(m,2),h=j[0],g=j[1],v=Object(o.useState)(!1),x=Object(c.a)(v,2),O=x[0],w=x[1],S=Object(o.useState)(!1),y=Object(c.a)(S,2),C=y[0],A=y[1],k={name:l.name.split(" ")[0],lastName:l.name.split(" ")[1],street:l.address.split(",")[0].split(" ").slice(0,-1).join(" "),streetNumber:l.address.split(",")[0].split(" ").splice(-1),number:l.number,city:l.address.split(",")[1].trim()},N=Object(p.g)(),I=Object(d.a)({mode:"onBlur"});function P(){return(P=Object(i.a)(u.a.mark((function e(t,o){var l,i,c,d,p,b,m,j,h,v,x,O,w,S,y,C,k,I,P,V,L;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),k=null===o||void 0===o||null===(l=o.target)||void 0===l||null===(i=l.userName)||void 0===i||null===(c=i.value)||void 0===c?void 0:c.toLowerCase(),I=null===o||void 0===o||null===(d=o.target)||void 0===d||null===(p=d.userLastName)||void 0===p||null===(b=p.value)||void 0===b?void 0:b.toLowerCase(),P=null===(m=o.target.userCityAddress)||void 0===m||null===(j=m.value)||void 0===j?void 0:j.toLowerCase(),V=null===(h=o.target.userStreetAddress)||void 0===h||null===(v=h.value)||void 0===v?void 0:v.toLowerCase(),L={name:k,lastName:I,password:(null===o||void 0===o||null===(x=o.target)||void 0===x||null===(O=x.userPassword)||void 0===O?void 0:O.value)||null,newPassword:(null===o||void 0===o||null===(w=o.target)||void 0===w||null===(S=w.userNewPassword)||void 0===S?void 0:S.value)||null,number:null===(y=o.target.userNumber)||void 0===y?void 0:y.value,city:P,street:V,streetNumber:null===(C=o.target.userStreetNumber)||void 0===C?void 0:C.value},e.next=5,f({setFormIsLoading:A,setIsSuccessfullySend:a,setServerError:g,info:L,isAdmin:s,setAllUsers:n,token:r,history:N});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{register:I.register,handleSubmit:I.handleSubmit,errors:I.formState.errors,onSubmit:function(e,r){return P.apply(this,arguments)},serverError:h,setCurrentUser:t,formIsLoading:C,defaultsValues:k,isChangingPassword:O,setIsChangingPassword:w}}(),r=e.register,t=e.handleSubmit,n=e.errors,s=e.onSubmit,a=e.serverError,l=e.formIsLoading,m=e.isChangingPassword,j=e.setIsChangingPassword,h=e.defaultsValues;return Object(I.jsxs)(P,{children:[Object(I.jsx)(E,{to:"/myAccount/myProfile",children:"Regresar"}),Object(I.jsxs)(V,{onSubmit:t(s),novalidate:!0,children:[Object(I.jsx)(U,{src:N,alt:"edit-profile"}),Object(I.jsx)(C.h,{errors:n,register:r,defaultValue:h.name}),Object(I.jsx)(C.g,{errors:n,register:r,defaultValue:h.lastName}),Object(I.jsx)(q,{defaultValue:h.number,errors:n,register:r,placeholder:"Tu tel\xe8fono..."}),Object(I.jsx)(F,{register:r,defaultValue:h.city}),Object(I.jsx)(B,{errors:n,register:r,placeholder:"Calle...",defaultValue:h.street}),Object(I.jsx)(z,{errors:n,register:r,placeholder:"N\xfamero de puerta...",defaultValue:h.streetNumber}),Object(I.jsx)(L,{children:Object(I.jsx)(T,{setIsChangingPassword:j,value:m})}),m?Object(I.jsxs)(o.Fragment,{children:[Object(I.jsx)(C.j,{errors:n,register:r,name:"userPassword",placeholder:"Tu contrase\xf1a..."}),Object(I.jsx)(C.i,{errors:n,register:r,name:"newPassword",placeholder:"Nueva contrase\xf1a..."})]}):null,l?Object(I.jsx)(S.a,{small:!0}):Object(I.jsx)(C.a,{children:a}),Object(I.jsx)(A.e,{small:!0})]})]})}))}}]);
//# sourceMappingURL=16.0c6538cd.chunk.js.map