(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{147:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(5),n=a.n(r),c=a(10);function i(e){return o.apply(this,arguments)}function o(){return(o=Object(c.a)(n.a.mark((function e(t){var a,r,c,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Accept","application/json"),r={method:"GET",headers:a},e.prev=3,e.next=6,fetch("/api/categories",r);case 6:return c=e.sent,e.next=9,c.json();case 9:i=e.sent,o=i.data,t(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}},153:function(e,t,a){"use strict";a.r(t),a.d(t,"LinksWrapper",(function(){return d}));var r,n=a(3),c=a(2),i=a(53),o=a(144),s=a(154),u=a(23),l=a(0),d=c.b.div(r||(r=Object(n.a)(["\ndisplay:flex;\nmargin:5px 0;\nmargin-left:15px;\nwidth:max-content;\n"])));t.default=Object(i.a)((function(){return Object(l.jsxs)(s.StyledSection,{children:[Object(l.jsx)(d,{children:Object(l.jsx)(u.a,{to:"/dashboard/myProducts",children:"Regresar "})}),Object(l.jsx)(o.p,{})]})}))},154:function(e,t,a){"use strict";a.r(t),a.d(t,"StyledSection",(function(){return q}));var r=a(3),n=a(2),c=a(53),i=a(6),o=a(5),s=a.n(o),u=a(10),l=a(147);function d(){return(d=Object(u.a)(s.a.mark((function e(t){var a,r,n,c,i,o,u,d,p,b,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,r=t.formData,n=t.id,t.nameValue,t.categoryValue,t.sizeValue,t.descriptionValue,t.priceValue,c=t.setIsSuccessfullySend,i=t.setFormIsLoading,o=t.history,u=t.setAllCategories,(d=new Headers).append("Accept","application/json"),d.append("Authorization","Bearer ".concat(a)),p={method:"PUT",headers:d,body:r},b="/api/products/".concat(n),e.prev=6,e.next=9,fetch(b,p);case 9:if(j=e.sent,i(!1),200!==j.status){e.next=16;break}return e.next=14,Object(l.a)(u);case 14:c(!0),setTimeout((function(){return c(!1),o.push("/dashboard/myProducts")}),2e3);case 16:if(403!==j.status){e.next=18;break}return e.abrupt("return",alert("Se require rol de Administrador"));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[6,20]])})))).apply(this,arguments)}var p=function(e){return d.apply(this,arguments)},b=a(131),j=a(7),m=a(1),f=a(8);var g,h=a(133),O=a(31),v=a(139),x=a(144),y=a.p+"static/media/pencil-edit-form.1d2432a8.svg",V=a(0),S=Object(n.b)(v.e)(g||(g=Object(r.a)([" \ntransform:scale(0.75);\n"])));function C(){var e=function(){var e=Object(j.a)(),t=e.token,a=e.productToEdit,r=e.setIsSuccessfullySend,n=e.setAllCategories,c=e.categories,o=Object(b.a)({mode:"onBlur"}),s=o.register,u=o.handleSubmit,l=o.formState.errors,d=Object(f.g)(),g=Object(m.useState)(!1),h=Object(i.a)(g,2),O=h[0],v=h[1],x=Object(m.useState)(a.name),y=Object(i.a)(x,2),V=y[0],S=y[1],C=Object(m.useState)(a.category),z=Object(i.a)(C,2),k=z[0],w=z[1],q=Object(m.useState)(a.price),E=Object(i.a)(q,2),P=E[0],A=E[1],I=Object(m.useState)(a.size),D=Object(i.a)(I,2),L=D[0],T=D[1],N=Object(m.useState)(a.description),F=Object(i.a)(N,2),B=F[0],H=F[1],J=a._id;return Object(m.useEffect)((function(){S(a.name),w(a.category),A(a.price),T(a.size),H(a.description)}),[a]),{register:s,handleSubmit:u,errors:l,onSubmit:function(e,a){v(!0),a.preventDefault();var c=new FormData,i=!!a.target.state.checked,o=parseInt(P);c.append("img",a.target.img.files[0]),c.append("name",V),c.append("category",k),c.append("size",L),c.append("description",B),c.append("price",o),c.append("active",i),p({token:t,formData:c,id:J,nameValue:V,categoryValue:k,sizeValue:L,descriptionValue:B,priceValue:P,setIsSuccessfullySend:r,setFormIsLoading:v,setAllCategories:n,history:d})},setNameValue:S,setCategoryValue:w,setPriceValue:A,setSizeValue:T,setDescriptionValue:H,categories:c,nameValue:V,categoryValue:k,priceValue:P,sizeValue:L,descriptionValue:B,formIsLoading:O,productToEdit:a}}(),t=e.categories,a=e.register,r=e.handleSubmit,n=e.errors,c=e.onSubmit,o=e.productToEdit,s=e.setNameValue,u=e.setCategoryValue,l=e.setPriceValue,d=e.setSizeValue,g=e.setDescriptionValue,v=e.nameValue,C=e.categoryValue,z=e.priceValue,k=e.sizeValue,w=e.descriptionValue,q=e.formIsLoading;return Object(V.jsx)(x.l,{children:Object(V.jsxs)(x.o,{children:[Object(V.jsx)(S,{src:y,alt:"new-product"}),Object(V.jsxs)(x.n,{enctype:"multipart/form-data",onSubmit:r(c),children:[Object(V.jsxs)(x.f,{children:["Editar ",null===o||void 0===o?void 0:o.name]}),n.productName&&Object(V.jsx)(h.a,{role:"alert",children:"*El campo es obligario"}),Object(V.jsx)(x.m,{style:{borderColor:n.productName&&"#bf0000"},placeholder:"Nombre...",value:v,onChange:function(e){return s(e.target.value)},name:"productName",ref:a({required:!1,defaultValues:{nameValue:v}})}),n.productCategory&&Object(V.jsx)(h.a,{role:"alert",children:"*El campo es obligario"}),Object(V.jsx)(x.m,{style:{borderColor:n.productCategory&&"#bf0000"},placeholder:"Categor\xeda...",name:"productCategory",value:C,onChange:function(e){return u(e.target.value)},ref:a({required:!1,defaultValues:{categoryValue:C}})}),n.size&&Object(V.jsx)(h.a,{role:"alert",children:"*Se requiere la unidad de medida"}),Object(V.jsx)(x.m,{style:{borderColor:n.productSize&&"#bf0000"},defaultValue:k,onChange:function(e){return d(e.target.value)},placeholder:"Cantidad/Tama\xf1o...",name:"size",ref:a({required:!1,defaultValues:{sizeValue:k},pattern:{value:/^(?:[0-9]+\s\w+[a-z]|[a-z]+[0-9])[a-z0-9]*$/i}})}),n.productPrice&&Object(V.jsx)(h.a,{role:"alert",children:"*Solo se admiten n\xfameros"}),Object(V.jsx)(x.m,{placeholder:"Precio...",style:{borderColor:n.productPrice&&"#bf0000"},name:"productPrice",value:z,onChange:function(e){return l(e.target.value)},ref:a({required:!1,defaultValues:{priceValue:z},pattern:{value:[-9]}})}),n.category&&Object(V.jsx)(h.a,{role:"alert",children:n.category.message}),Object(V.jsx)(x.i,{name:"category",style:{borderColor:n.category&&"#bf0000"},onChange:function(e){return u(e.target.value)},ref:a({required:"*El campo es requrido"}),children:null===t||void 0===t?void 0:t.map((function(e){return Object(V.jsx)(x.h,{value:null===e||void 0===e?void 0:e.name,selected:(null===C||void 0===C?void 0:C.toLowerCase())===(null===e||void 0===e?void 0:e.name),children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))}),n.description&&Object(V.jsx)(h.a,{role:"alert",children:n.description.message}),Object(V.jsx)(x.c,{placeholder:"Descripci\xf3n...",style:{borderColor:n.description&&"#bf0000"},value:w,name:"description",onChange:function(e){return g(e.target.value)},ref:a({required:"*El campo es requerido",defaultValues:{descriptionValue:w}})}),Object(V.jsx)(x.d,{type:"file",name:"img",ref:a({required:!1})}),Object(V.jsx)(x.j,{state:(null===o||void 0===o?void 0:o.active)?"checked":null}),q&&Object(V.jsx)(O.a,{small:!0}),Object(V.jsxs)(x.a,{children:[Object(V.jsx)(x.g,{as:"input",type:"submit",value:"Cargar"}),Object(V.jsx)(x.k,{as:"input",type:"reset",value:"Abortar"})]})]})]})})}var z,k=a(23),w=a(153),q=n.b.main(z||(z=Object(r.a)(["\npadding-top: 60px ;\nmargin:0;\n min-height:100vh;\nwidth:100vw;\n"])));t.default=Object(c.a)((function(){return Object(V.jsxs)(q,{children:[Object(V.jsx)(w.LinksWrapper,{children:Object(V.jsx)(k.a,{to:"/dashboard/myProducts",children:"Regresar"})}),Object(V.jsx)(C,{})]})}))}}]);
//# sourceMappingURL=3.01814620.chunk.js.map