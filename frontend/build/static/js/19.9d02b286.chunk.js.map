{"version":3,"sources":["img/shopping-cart-solid.svg","components/AddToCartButton.js","hooks/useAddToCartButton.js","img/default-image.png","components/product_details/ProductDetails.js","hooks/useProductDetails.js"],"names":["CartButton","styled","button","props","theme","lightBoxShadow","isAdded","darckYellow","black","CartIcon","img","AddToCartButton","thisProductInfo","item","useStorage","cartProducts","addToCart","addToTotalCost","useState","setIsAdded","products","map","product","info","_id","useEffect","indexOf","handlerAddToCartAndAddToTotalCost","cost","quantity","useAddToCartButton","onClick","parseInt","price","style","position","src","shoopingCartIcon","alt","bounceLeft","keyframes","GoBackLink","StyledLink","ProductDetails","section","PrductImg","ImageWrapper","div","isLoaded","defaultImage","Name","h2","Line","Deltail","dd","Leyend","dt","Description","ProductDetailsPage","setIsLoading","location","useLocation","history","useHistory","goBackPath","URLSearchParams","search","get","setIsLoaded","setThisProductInf","productId","useParams","controller","AbortController","signal","fechProducts","a","fetch","res","status","push","json","data","name","console","log","i","abort","isInShoppingCart","find","useProductDetails","to","onLoad","category","size","description"],"mappings":"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","file":"static/js/19.9d02b286.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/shopping-cart-solid.f0d47d21.svg\";","import styled  from 'styled-components'\r\nimport useAddToCartButton from '../hooks/useAddToCartButton'\r\nimport shoopingCartIcon from '../img/shopping-cart-solid.svg';\r\n\r\nexport const CartButton = styled.button`\r\nposition:relative;\r\nmargin-left:auto;\r\nmargin-top:auto;\r\nbox-shadow: ${props=> props.theme.lightBoxShadow};\r\npadding:20px 0;\r\nwidth:50px;\r\ndisplay:flex;\r\njustify-content:center;\r\nalign-items:center;\r\nbackground: ${(props) => props.isAdded  ? props.theme.darckYellow :  props.theme.black}  ;\r\noutline:none;\r\nborder:none;\r\nborder-radius: 4px;\r\nfont-weight:600;\r\ncursor:pointer;\r\nfont-size:20px;\r\ncolor:#fff;\r\ntransition: all 0.3s ease;\r\n&:hover{\r\n  background:${props => props.theme.darckYellow};\r\n}`\r\nexport const CartIcon = styled.img`\r\nwidth:20px;\r\nheight:20px;\r\ntransition: all 05s ease;\r\n\r\n`;\r\nexport default function AddToCartButton({thisProductInfo}){\r\n\r\n\r\n\r\n const {handlerAddToCartAndAddToTotalCost,isAdded} = useAddToCartButton(thisProductInfo)\r\n\r\n  return(\r\n           <CartButton  isAdded={isAdded}\r\n       onClick={ () => handlerAddToCartAndAddToTotalCost(thisProductInfo,parseInt(thisProductInfo?.price))}>\r\n         <CartIcon style={{  position:'absolute'}} src={shoopingCartIcon} alt=\"add-to-cart\"/>\r\n       </CartButton>\r\n  );\r\n}","import { useState,useEffect } from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default   function useAddToCartButton(item){\r\n\r\n  const {cartProducts,addToCart,addToTotalCost} = useStorage()\r\n\r\n const [isAdded,setIsAdded] =useState(false)\r\n \r\n  let products =cartProducts.map( product => product.info._id)\r\n\r\nuseEffect(()=>{\r\n\r\n  products.indexOf(item._id) !== -1 ? setIsAdded(true) : setIsAdded(false);\r\n},[products,item])\r\n\r\n  const handlerAddToCartAndAddToTotalCost= (product, cost) =>{\r\n\r\n  if( products.indexOf(product._id) === -1){\r\naddToTotalCost(cost)\r\naddToCart({info: product, quantity: 1})\r\n\r\nreturn\r\n  }\r\n  \r\nreturn\r\n}\r\n\r\n\r\n    return {handlerAddToCartAndAddToTotalCost,isAdded}\r\n  }\r\n","export default __webpack_public_path__ + \"static/media/default-image.02bd9b08.png\";","import styled, {keyframes}  from 'styled-components'\r\nimport useProductDetails from '../../hooks/useProductDetails'\r\nimport {StyledLink } from '../Header'\r\nimport defaultImage from '../../img/default-image.png';\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\nexport const bounceLeft = keyframes `\r\n  0% { left:15px;}\r\n  50% { left:20px;}\r\n   100% { left:15px;}\r\n`\r\nexport const GoBackLink = styled(StyledLink)`\r\nposition:absolute;\r\nleft:15px;\r\nmargin: 0 ;\r\nfont-size:15px;\r\npadding: 10px 0;\r\nz-index:800;\r\n  animation: ${bounceLeft} 1.2s linear infinite;\r\n&:before{\r\n  content : \"<-- \";\r\n  margin-right:3px;\r\n}\r\n`;\r\nconst ProductDetails = styled.section`\r\n    width: 90vw;\r\n    padding: 60px 15px 20px;\r\n    margin: 0px auto;\r\n    display: flex;\r\n  height: 100%;\r\nmax-height: 800px;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n@media screen and (min-width:550px){\r\n width:70vw;\r\n}\r\n@media screen and (min-width:850px){\r\n width:50vw;\r\n}\r\n@media screen and (min-width:850px){\r\n width:50vw;\r\n}\r\n@media screen and (min-width:1200px){\r\n    width: 70vw;\r\n    height: 100%;\r\n    max-height: 800px;\r\n}\r\n& >button {\r\ntransform:scale(0.8);\r\nmargin-top:-45px;\r\nmargin-bottom:10px;\r\n@media screen and (min-width:600px){\r\nmargin-top:-50px;\r\ntransform:scale(1);\r\n}\r\n`\r\nconst PrductImg = styled.img`\r\nposition:relative;\r\nleft:50%;\r\ntransform:translate(-50%, 0);\r\n   height: 100%;\r\n    max-width: 90%;\r\n    max-height: 250px;\r\n@media screen and (min-width:500px){\r\n max-height: 350px;\r\nmax-width: 350px;\r\n}\r\n`;\r\nconst ImageWrapper =styled.div`\r\npadding-top:40px;\r\n    min-height: 300px;\r\n  background-image: ${props => props.isLoaded ? 'none' : `url(${defaultImage})`};\r\n      background-repeat: no-repeat;\r\n    background-size: 100% auto;\r\n    backface-visibility: hidden;\r\n    background-position: center;\r\n   @media screen and (min-width:400px){\r\nbackground-size: auto 100%;\r\n    }\r\n`;\r\nconst Name =styled.h2`\r\nmargin: 10px 0 ;\r\nletter-spasing:0;\r\nline-height:35px;\r\nmax-width:200px;\r\nfont-size:30px;\r\ntext-transform:capitalize ;\r\n@media screen and (min-width:600px){\r\n  font-size:35px;\r\n  margin-bottom: 20px;\r\n  max-width:100%;\r\n}\r\n`\r\nconst Line = styled.div`\r\n\r\nwidth:100%;\r\nheight:1px;\r\nbackground:#fcaf01;\r\nmargin:5px auto;\r\n`\r\n;\r\n\r\n\r\n\r\nconst Deltail = styled.dd`\r\nline-height:25px;\r\ntext-transform:capitalize ;\r\n`;\r\nconst Leyend= styled.dt`\r\ncolor: ${props => props.theme.darckYellow};\r\nline-height:25px;\r\ntext-transform:capitalize ;\r\n    float: left;\r\n`;\r\nconst Description = styled(Deltail)`\r\ntext-transform:none;\r\n\r\n` \r\nfunction ProductDetailsPage(){\r\n\r\n\r\n\r\n\r\nconst {isInShoppingCart,isLoaded,thisProductInfo,goBackPath,setIsLoaded} = useProductDetails()\r\n\r\n\r\n  return(\r\n\r\n      \r\n<ProductDetails >\r\n    \r\n             <GoBackLink to={goBackPath} > Regresar</GoBackLink>\r\n<ImageWrapper  isLoaded={isLoaded}>\r\n  <PrductImg src={thisProductInfo?.img}  alt={thisProductInfo?.name} onLoad={()=> setIsLoaded(true)} />\r\n  </ImageWrapper>\r\n    <Line/>\r\n  <Name>{thisProductInfo?.name}</Name>\r\n  {(!isInShoppingCart) ? \r\n   <AddToCartButton thisProductInfo={thisProductInfo}/>\r\n        : null\r\n}\r\n    <Line/>\r\n    <dl>\r\n    <Leyend>Categoría:</Leyend> <Deltail>{thisProductInfo?.category}</Deltail>\r\n<Leyend>Porción:</Leyend> <Deltail>{thisProductInfo?.size}</Deltail>\r\n<Leyend>Precio:</Leyend> <Deltail>${thisProductInfo?.price}</Deltail>\r\n <Leyend>Descripción:</Leyend> <Description>{thisProductInfo?.description}</Description>\r\n    </dl>\r\n  \r\n</ProductDetails>\r\n  );\r\n}\r\n\r\nexport default ProductDetailsPage","import { useEffect,useState} from 'react'\r\nimport {useParams,useLocation,useHistory} from 'react-router-dom'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default function useProductDetails(){\r\n\r\n  const {setIsLoading,cartProducts} = useStorage()\r\n  \r\nlet location = useLocation()\r\nlet history = useHistory()\r\nlet search = new URLSearchParams(location.search);\r\n\r\nlet goBackPath = search.get(\"from\");\r\n\r\nconst [isLoaded,setIsLoaded] = useState(false)\r\n const [thisProductInfo,setThisProductInf] = useState({})\r\n const {productId}=  useParams()\r\n\r\n\r\n useEffect(()=>{\r\n\r\n    setIsLoading(true)\r\n\r\n  const controller = new AbortController()\r\n const signal = controller.signal\r\n\r\n  const fechProducts = async () =>{\r\n  try{\r\n\r\n     let res = await fetch(`/api/products/${productId}`,{signal,})\r\n\r\n   if(res.status === 404) {\r\n            setIsLoading(false)\r\n      return history.push('/notFound')\r\n     }\r\n     let json = await res.json()\r\n\r\n    setThisProductInf(json.data)\r\n     setIsLoading(false)\r\n\r\n  }catch(err){\r\n    if(err.name === 'AbortError'){\r\n   console.log('Fetch Canseled: caught abort')\r\n }else{\r\n\r\n     console.log(err)\r\n    for(let i = 0; i < 6 ;i++){\r\n    fechProducts()\r\n\r\n        }\r\n\r\n \r\n  }\r\n}\r\n  }\r\n  fechProducts()\r\n \r\n  return () =>{\r\n     controller.abort()\r\n   }   \r\n   \r\n },[productId])\r\n\r\n \r\nlet isInShoppingCart = cartProducts.find(product => product.info._id === thisProductInfo?._id) ? true : false\r\n\r\nreturn{ isInShoppingCart,isLoaded,thisProductInfo,goBackPath,setIsLoaded}\r\n\r\n}"],"sourceRoot":""}