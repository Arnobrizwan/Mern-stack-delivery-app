(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{153:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r(6),n=r.n(a),s=r(10);function c(e){return i.apply(this,arguments)}function i(){return(i=Object(s.a)(n.a.mark((function e(t){var r,a,s,c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("Accept","application/json"),a={method:"GET",headers:r},e.prev=3,e.next=6,fetch("/api/categories",a);case 6:return s=e.sent,e.next=9,s.json();case 9:c=e.sent,i=c.data,t(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}},164:function(e,t,r){"use strict";r.r(t),r.d(t,"LinksWrapper",(function(){return p}));var a,n=r(3),s=r(2),c=r(55),i=r(151),o=r(165),d=r(24),u=r(0),p=s.b.div(a||(a=Object(n.a)(["\ndisplay:flex;\nmargin:5px 0;\nmargin-left:15px;\nwidth:max-content;\n"])));t.default=Object(c.a)((function(){return Object(u.jsxs)(o.StyledSection,{children:[Object(u.jsx)(p,{children:Object(u.jsx)(d.a,{to:"/dashboard/myProducts",children:"Regresar "})}),Object(u.jsx)(i.r,{})]})}))},165:function(e,t,r){"use strict";r.r(t),r.d(t,"StyledSection",(function(){return A}));var a=r(3),n=r(2),s=r(55),c=r(5),i=r(6),o=r.n(i),d=r(10),u=r(153);function p(){return(p=Object(d.a)(o.a.mark((function e(t){var r,a,n,s,c,i,d,p,l,j,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,a=t.formData,n=t.id,t.nameValue,t.categoryValue,t.sizeValue,t.descriptionValue,t.priceValue,s=t.setIsSuccessfullySend,c=t.setFormIsLoading,i=t.history,d=t.setAllCategories,(p=new Headers).append("Accept","application/json"),p.append("Authorization","Bearer ".concat(r)),l={method:"PUT",headers:p,body:a},j="/api/products/".concat(n),e.prev=6,e.next=9,fetch(j,l);case 9:if(b=e.sent,c(!1),200!==b.status){e.next=16;break}return e.next=14,Object(u.a)(d);case 14:s(!0),setTimeout((function(){return s(!1),i.push("/dashboard/myProducts")}),2e3);case 16:if(403!==b.status){e.next=18;break}return e.abrupt("return",alert("Se require rol de Administrador"));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[6,20]])})))).apply(this,arguments)}var l=function(e){return p.apply(this,arguments)},j=r(134),b=r(9),f=r(1),m=r(7);var h,g=r(32),x=r(142),v=r(151),O=r.p+"static/media/pencil-edit-form.1d2432a8.svg",y=r(0),S=Object(n.b)(x.e)(h||(h=Object(a.a)(["\ntransform:scale(0.75);\n"])));function k(){var e=function(){var e=Object(b.a)(),t=e.token,r=e.productToEdit,a=e.setIsSuccessfullySend,n=e.setAllCategories,s=e.categories,i=Object(j.a)({mode:"onBlur"}),o=i.register,d=i.handleSubmit,u=i.formState.errors,p=Object(m.g)(),h=Object(f.useState)(!1),g=Object(c.a)(h,2),x=g[0],v=g[1],O=r._id;return{register:o,handleSubmit:d,errors:u,onSubmit:function(e,r){var s,c;v(!0),r.preventDefault();var i=new FormData,o=(null===e||void 0===e||null===(s=e.img)||void 0===s?void 0:s.files)?null===e||void 0===e||null===(c=e.img)||void 0===c?void 0:c.files[0]:void 0,d=parseInt(e.price);i.append("img",o),i.append("name",e.name),i.append("category",e.category),i.append("size",e.size),i.append("description",e.description),i.append("price",d),i.append("active",r.target.state.checked),l({token:t,formData:i,id:O,setIsSuccessfullySend:a,setFormIsLoading:v,setAllCategories:n,history:p})},formIsLoading:x,productToEdit:r,categories:s}}(),t=e.categories,r=e.register,a=e.handleSubmit,n=e.errors,s=e.onSubmit,i=e.productToEdit,o=e.formIsLoading;return Object(y.jsx)(v.n,{children:Object(y.jsxs)(v.q,{children:[Object(y.jsx)(S,{src:O,alt:"new-product"}),Object(y.jsxs)(v.p,{enctype:"multipart/form-data",onSubmit:a(s),children:[Object(y.jsxs)(v.d,{children:["Editar ",null===i||void 0===i?void 0:i.name]}),Object(y.jsx)(v.j,{register:r,errors:n,defaultValue:i.name}),Object(y.jsx)(v.l,{register:r,errors:n,defaultValue:i.size}),Object(y.jsx)(v.k,{register:r,errors:n,defaultValue:i.price}),Object(y.jsx)(v.a,{register:r,errors:n,categories:t,defaultValue:i.category}),Object(y.jsx)(v.i,{defaultValue:i.description,register:r,errors:n}),Object(y.jsx)(v.e,{register:r,errors:n,isNotRequired:!0}),Object(y.jsx)(v.m,{state:!!(null===i||void 0===i?void 0:i.active)&&"checked"}),o&&Object(y.jsx)(g.a,{small:!0}),Object(y.jsx)(v.c,{})]})]})})}var w,V=r(24),I=r(164),A=n.b.main(w||(w=Object(a.a)(["\npadding-top: 60px ;\nmargin:0;\n min-height:100vh;\nwidth:100vw;\n"])));t.default=Object(s.a)((function(){return Object(y.jsxs)(A,{children:[Object(y.jsx)(I.LinksWrapper,{children:Object(y.jsx)(V.a,{to:"/dashboard/myProducts",children:"Regresar"})}),Object(y.jsx)(k,{})]})}))}}]);
//# sourceMappingURL=3.6ac7cdc3.chunk.js.map