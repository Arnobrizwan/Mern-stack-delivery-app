(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{78:function(e,t,n){"use strict";n.r(t),n.d(t,"bounceLeft",(function(){return S})),n.d(t,"GoBackLink",(function(){return C}));var a=n(3),r=n(2),i=n(12),c=n.n(i),o=n(15),s=n(16),d=n(1),u=n(5),l=n(11);var p,b,j,h,m,f,x,g,O,v,y=n(40),w=n(69),V=n(68),k=n(0),S=Object(r.c)(p||(p=Object(a.a)(["\n  0% { left:15px;}\n  50% { left:20px;}\n   100% { left:15px;}\n"]))),C=Object(r.b)(y.a)(b||(b=Object(a.a)(["\nposition:absolute;\nleft:15px;\nmargin: 0 ;\nfont-size:15px;\npadding: 10px 0;\nz-index:800;\n  animation: ",' 1.2s linear infinite;\n&:before{\n  content : "<-- ";\n  margin-right:3px;\n}\n'])),S),z=r.b.section(j||(j=Object(a.a)(["\n    width: 90vw;\n    padding: 60px 15px 20px;\n    margin: 0px auto;\n    display: flex;\n  height: 100%;\nmax-height: 800px;\n    flex-direction: column;\n    justify-content: flex-start;\n@media screen and (min-width:550px){\n width:70vw;\n}\n@media screen and (min-width:850px){\n width:50vw;\n}\n@media screen and (min-width:850px){\n width:50vw;\n}\n@media screen and (min-width:1200px){\n    width: 70vw;\n    height: 100%;\n    max-height: 800px;\n}\n& >button {\ntransform:scale(0.8);\nmargin-top:-45px;\nmargin-bottom:10px;\n@media screen and (min-width:600px){\nmargin-top:-50px;\ntransform:scale(1);\n}\n"]))),L=r.b.img(h||(h=Object(a.a)(["\nposition:relative;\nleft:50%;\ntransform:translate(-50%, 0);\n   height: 100%;\n    max-width: 90%;\n    max-height: 250px;\n@media screen and (min-width:500px){\n max-height: 350px;\nmax-width: 350px;\n}\n"]))),P=r.b.div(m||(m=Object(a.a)(["\npadding-top:40px;\n    min-height: 300px;\n  background-image: ",";\n      background-repeat: no-repeat;\n    background-size: 100% auto;\n    backface-visibility: hidden;\n    background-position: center;\n   @media screen and (min-width:400px){\nbackground-size: auto 100%;\n    }\n"])),(function(e){return e.isLoaded?"none":"url(".concat(w.a,")")})),I=r.b.h2(f||(f=Object(a.a)(["\nmargin: 10px 0 ;\nletter-spasing:0;\nline-height:35px;\nmax-width:200px;\nfont-size:30px;\ntext-transform:capitalize ;\n@media screen and (min-width:600px){\n  font-size:35px;\n  margin-bottom: 20px;\n  max-width:100%;\n}\n"]))),E=r.b.div(x||(x=Object(a.a)(["\n\nwidth:100%;\nheight:1px;\nbackground:#fcaf01;\nmargin:5px auto;\n"]))),q=r.b.dd(g||(g=Object(a.a)(["\nline-height:25px;\ntext-transform:capitalize ;\n"]))),A=r.b.dt(O||(O=Object(a.a)(["\ncolor: ",";\nline-height:25px;\ntext-transform:capitalize ;\n    float: left;\n"])),(function(e){return e.theme.darckYellow})),D=Object(r.b)(q)(v||(v=Object(a.a)(["\ntext-transform:none;\n\n"])));t.default=function(){var e=function(){var e=Object(l.a)(),t=e.setIsLoading,n=e.cartProducts,a=Object(u.h)(),r=Object(u.g)(),i=new URLSearchParams(a.search).get("from"),p=Object(d.useState)(!1),b=Object(s.a)(p,2),j=b[0],h=b[1],m=Object(d.useState)({}),f=Object(s.a)(m,2),x=f[0],g=f[1],O=Object(u.i)().productId;return Object(d.useEffect)((function(){t(!0);var e=new AbortController,n=e.signal,a=function(){var e=Object(o.a)(c.a.mark((function e(){var i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/".concat(O),{signal:n});case 3:if(404!==(i=e.sent).status){e.next=7;break}return t(!1),e.abrupt("return",r.push("/notFound"));case 7:return e.next=9,i.json();case 9:o=e.sent,g(o.data),t(!1),e.next=17;break;case 14:if(e.prev=14,e.t0=e.catch(0),"AbortError"===e.t0.name)console.log("Fetch Canseled: caught abort");else for(console.log(e.t0),s=0;s<6;s++)a();case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return a(),function(){e.abort()}}),[O]),{isInShoppingCart:!!n.find((function(e){return e.info._id===(null===x||void 0===x?void 0:x._id)})),isLoaded:j,thisProductInfo:x,goBackPath:i,setIsLoaded:h}}(),t=e.isInShoppingCart,n=e.isLoaded,a=e.thisProductInfo,r=e.goBackPath,i=e.setIsLoaded;return Object(k.jsxs)(z,{children:[Object(k.jsx)(C,{to:r,children:" Regresar"}),Object(k.jsx)(P,{isLoaded:n,children:Object(k.jsx)(L,{src:null===a||void 0===a?void 0:a.img,alt:null===a||void 0===a?void 0:a.name,onLoad:function(){return i(!0)}})}),Object(k.jsx)(E,{}),Object(k.jsx)(I,{children:null===a||void 0===a?void 0:a.name}),t?null:Object(k.jsx)(V.c,{thisProductInfo:a}),Object(k.jsx)(E,{}),Object(k.jsxs)("dl",{children:[Object(k.jsx)(A,{children:"Categor\xeda:"})," ",Object(k.jsx)(q,{children:null===a||void 0===a?void 0:a.category}),Object(k.jsx)(A,{children:"Porci\xf3n:"})," ",Object(k.jsx)(q,{children:null===a||void 0===a?void 0:a.size}),Object(k.jsx)(A,{children:"Precio:"})," ",Object(k.jsxs)(q,{children:["$",null===a||void 0===a?void 0:a.price]}),Object(k.jsx)(A,{children:"Descripci\xf3n:"})," ",Object(k.jsx)(D,{children:null===a||void 0===a?void 0:a.description})]})]})}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),r=n.n(a),i=n(15);function c(e){return o.apply(this,arguments)}function o(){return(o=Object(i.a)(r.a.mark((function e(t){var n,a,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Accept","application/json"),a={method:"GET",headers:n},e.prev=3,e.next=6,fetch("/api/categories",a);case 6:return i=e.sent,e.next=9,i.json();case 9:c=e.sent,o=c.data,t(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}},91:function(e,t,n){"use strict";n.r(t),n.d(t,"LinksWrapper",(function(){return u})),n.d(t,"default",(function(){return l}));var a,r=n(3),i=n(2),c=n(81),o=n(92),s=n(78),d=n(0),u=i.b.div(a||(a=Object(r.a)(["\ndisplay:flex;\nmargin:5px 0;\nmargin-left:15px;\nwidth:max-content;\n"])));function l(){return Object(d.jsxs)(o.StyledSection,{children:[Object(d.jsx)(u,{children:Object(d.jsx)(s.GoBackLink,{to:"/dashboard/myProducts",children:"Regresar "})}),Object(d.jsx)(c.p,{})]})}},92:function(e,t,n){"use strict";n.r(t),n.d(t,"StyledSection",(function(){return z}));var a=n(3),r=n(2),i=n(16),c=n(12),o=n.n(c),s=n(15),d=n(84);function u(){return(u=Object(s.a)(o.a.mark((function e(t){var n,a,r,i,c,s,u,l,p,b,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.formData,r=t.id,t.nameValue,t.categoryValue,t.sizeValue,t.descriptionValue,t.priceValue,i=t.setIsSuccessfullySend,c=t.setFormIsLoading,s=t.history,u=t.setAllCategories,(l=new Headers).append("Accept","application/json"),l.append("Authorization","Bearer ".concat(n)),p={method:"PUT",headers:l,body:a},b="/api/products/".concat(r),e.prev=6,e.next=9,fetch(b,p);case 9:if(j=e.sent,c(!1),200!==j.status){e.next=16;break}return e.next=14,Object(d.a)(u);case 14:i(!0),setTimeout((function(){return i(!1),s.push("/dashboard/myProducts")}),2e3);case 16:if(403!==j.status){e.next=18;break}return e.abrupt("return",alert("Se require rol de Administrador"));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[6,20]])})))).apply(this,arguments)}var l=function(e){return u.apply(this,arguments)},p=n(70),b=n(11),j=n(1),h=n(5);var m,f=n(71),x=n(35),g=n(76),O=n(81),v=n.p+"static/media/pencil-edit-form.1d2432a8.svg",y=n(0),w=Object(r.b)(g.e)(m||(m=Object(a.a)([" \ntransform:scale(0.75);\n"])));function V(){var e=function(){var e=Object(b.a)(),t=e.token,n=e.productToEdit,a=e.setIsSuccessfullySend,r=e.setAllCategories,c=e.categories,o=Object(p.a)({mode:"onBlur"}),s=o.register,d=o.handleSubmit,u=o.formState.errors,m=Object(h.g)(),f=Object(j.useState)(!1),x=Object(i.a)(f,2),g=x[0],O=x[1],v=Object(j.useState)(n.name),y=Object(i.a)(v,2),w=y[0],V=y[1],k=Object(j.useState)(n.category),S=Object(i.a)(k,2),C=S[0],z=S[1],L=Object(j.useState)(n.price),P=Object(i.a)(L,2),I=P[0],E=P[1],q=Object(j.useState)(n.size),A=Object(i.a)(q,2),D=A[0],B=A[1],T=Object(j.useState)(n.description),N=Object(i.a)(T,2),F=N[0],G=N[1],R=n._id;return Object(j.useEffect)((function(){V(n.name),z(n.category),E(n.price),B(n.size),G(n.description)}),[n]),{register:s,handleSubmit:d,errors:u,onSubmit:function(e,n){O(!0),n.preventDefault();var i=new FormData,c=!!n.target.state.checked,o=parseInt(I);i.append("img",n.target.img.files[0]),i.append("name",w),i.append("category",C),i.append("size",D),i.append("description",F),i.append("price",o),i.append("active",c),l({token:t,formData:i,id:R,nameValue:w,categoryValue:C,sizeValue:D,descriptionValue:F,priceValue:I,setIsSuccessfullySend:a,setFormIsLoading:O,setAllCategories:r,history:m})},setNameValue:V,setCategoryValue:z,setPriceValue:E,setSizeValue:B,setDescriptionValue:G,categories:c,nameValue:w,categoryValue:C,priceValue:I,sizeValue:D,descriptionValue:F,formIsLoading:g,productToEdit:n}}(),t=e.categories,n=e.register,a=e.handleSubmit,r=e.errors,c=e.onSubmit,o=e.productToEdit,s=e.setNameValue,d=e.setCategoryValue,u=e.setPriceValue,m=e.setSizeValue,g=e.setDescriptionValue,V=e.nameValue,k=e.categoryValue,S=e.priceValue,C=e.sizeValue,z=e.descriptionValue,L=e.formIsLoading;return Object(y.jsx)(O.l,{children:Object(y.jsxs)(O.o,{children:[Object(y.jsx)(w,{src:v,alt:"new-product"}),Object(y.jsxs)(O.n,{enctype:"multipart/form-data",onSubmit:a(c),children:[Object(y.jsxs)(O.f,{children:["Editar ",null===o||void 0===o?void 0:o.name]}),r.productName&&Object(y.jsx)(f.a,{role:"alert",children:"*El campo es obligario"}),Object(y.jsx)(O.m,{style:{borderColor:r.productName&&"#bf0000"},placeholder:"Nombre...",value:V,onChange:function(e){return s(e.target.value)},name:"productName",ref:n({required:!1,defaultValues:{nameValue:V}})}),r.productCategory&&Object(y.jsx)(f.a,{role:"alert",children:"*El campo es obligario"}),Object(y.jsx)(O.m,{style:{borderColor:r.productCategory&&"#bf0000"},placeholder:"Categor\xeda...",name:"productCategory",value:k,onChange:function(e){return d(e.target.value)},ref:n({required:!1,defaultValues:{categoryValue:k}})}),r.size&&Object(y.jsx)(f.a,{role:"alert",children:"*Se requiere la unidad de medida"}),Object(y.jsx)(O.m,{style:{borderColor:r.productSize&&"#bf0000"},defaultValue:C,onChange:function(e){return m(e.target.value)},placeholder:"Cantidad/Tama\xf1o...",name:"size",ref:n({required:!1,defaultValues:{sizeValue:C},pattern:{value:/^(?:[0-9]+\s\w+[a-z]|[a-z]+[0-9])[a-z0-9]*$/i}})}),r.productPrice&&Object(y.jsx)(f.a,{role:"alert",children:"*Solo se admiten n\xfameros"}),Object(y.jsx)(O.m,{placeholder:"Precio...",style:{borderColor:r.productPrice&&"#bf0000"},name:"productPrice",value:S,onChange:function(e){return u(e.target.value)},ref:n({required:!1,defaultValues:{priceValue:S},pattern:{value:[-9]}})}),r.category&&Object(y.jsx)(f.a,{role:"alert",children:r.category.message}),Object(y.jsx)(O.i,{name:"category",style:{borderColor:r.category&&"#bf0000"},onChange:function(e){return d(e.target.value)},ref:n({required:"*El campo es requrido"}),children:null===t||void 0===t?void 0:t.map((function(e){return Object(y.jsx)(O.h,{value:null===e||void 0===e?void 0:e.name,selected:(null===k||void 0===k?void 0:k.toLowerCase())===(null===e||void 0===e?void 0:e.name),children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))}),r.description&&Object(y.jsx)(f.a,{role:"alert",children:r.description.message}),Object(y.jsx)(O.c,{placeholder:"Descripci\xf3n...",style:{borderColor:r.description&&"#bf0000"},value:z,name:"description",onChange:function(e){return g(e.target.value)},ref:n({required:"*El campo es requerido",defaultValues:{descriptionValue:z}})}),Object(y.jsx)(O.d,{type:"file",name:"img",ref:n({required:!1})}),Object(y.jsx)(O.j,{state:(null===o||void 0===o?void 0:o.active)?"checked":null}),L&&Object(y.jsx)(x.a,{small:!0}),Object(y.jsxs)(O.a,{children:[Object(y.jsx)(O.g,{as:"input",type:"submit",value:"Cargar"}),Object(y.jsx)(O.k,{as:"input",type:"reset",value:"Abortar"})]})]})]})})}var k,S=n(78),C=n(91),z=r.b.main(k||(k=Object(a.a)(["\npadding-top: 60px ;\nmargin:0;\n min-height:100vh;\nwidth:100vw;\n"])));t.default=function(){return Object(y.jsxs)(z,{children:[Object(y.jsx)(C.LinksWrapper,{children:Object(y.jsx)(S.GoBackLink,{to:"/dashboard/myProducts",children:"Regresar"})}),Object(y.jsx)(V,{})]})}}}]);
//# sourceMappingURL=3.b6307cb6.chunk.js.map