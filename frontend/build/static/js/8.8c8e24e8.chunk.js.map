{"version":3,"sources":["components/Buttons.js","components/SortProductsOptions.js","components/PaginationButtons.js","components/menu/Menu.js","hooks/useMenu.js","components/menu/ProductsSection.js","components/ProductsSectionSkeletom.js","img/loupe.svg","components/MenuSearchBar.js","components/menu/MenuItem.js","components/FilterCategoryOptions.js","img/refresh.svg","API/deleteOrderAPI.js","components/account/MyOrdersPage.js","hooks/useMyOrdersPage.js"],"names":["Button","styled","a","props","theme","lightBoxShadow","darckYellow","small","black","ButtonPrimary","orange","OptionList","select","Option","option","SortProductsOptions","setSortPreferece","name","onChange","e","target","value","ButtonsWrapper","div","PaginationButtons","page","maxPage","setPage","onClick","StyledMenu","main","SectionTitle","h2","light","darckTextShadow","MenuWrapper","section","LoaderSpinner","CategoryTitle","h4","SearchBarWrapper","CategoryWrapper","darckRed","ProductsSection","isLoading","NotFaundMessage","FiltersBoard","withError","history","useHistory","location","useLocation","categories","useStorage","populatedCategories","filter","category","quantity","query","URLSearchParams","useState","setIsLoading","setMaxPage","products","setProducts","setCategory","sorting","setSorting","title","setTitle","isFirstRender","setIsFirstRender","append","useEffect","controller","AbortController","signal","search","split","fetch","res","json","data","total","parseInt","Math","ceil","push","document","querySelector","scrollTo","console","log","fechProducts","abort","useMenu","setSearch","map","index","FilterCategoryOptions","setCategoryPreferece","sortPreference","ProductsSectionSkeletom","ProductsSectionComponent","length","product","data-testid","item","thisProductInfo","_id","Container","Item","figure","ImgContainer","TextLine","StyledSearchBar","form","SearchInput","input","SerchIconeWrapper","SearchIcone","img","SearchBar","placeholder","onSubmit","preventDefault","searchString","type","src","loupe","alt","article","Description","ProductLink","h3","Size","Price","isLoaded","defaultImage","Img","MenuItem","setIsLoaded","onLoad","id","pathname","price","size","children","FilerCategoryOptions","handelChange","token","setCurrentUser","headers","Headers","setting","method","status","currentUserAPI","deleteOrderAPI","Page","lightYellow","TableHead","thead","OrdersTable","table","lihgtBoxShadow","CancelOrderButton","button","disabled","NotFounMessage","NotFounIcone","RefreshButton","RefreshIcone","MyOrders","currentUser","orders","setOrders","userOrders","sort","b","createdAt","splice","deleteOrder","stopPropagation","seeDetails","orderID","handelRefresh","useMyOrdersPage","refreshIcone","order","Date","states","date","toLocaleString","client","address","reverse","find","state","confirmed","as","Link","to"],"mappings":"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","file":"static/js/8.8c8e24e8.chunk.js","sourcesContent":["\r\nimport styled  from 'styled-components'\r\n\r\n   export  const Button= styled.a`\r\n     box-shadow: ${props => props.theme.lightBoxShadow};\r\npadding: 15px 40px;\r\ncolor:#fff;\r\nwidth:max-content;\r\n  background:${props => props.theme.darckYellow};\r\n  text-transform: uppercase;\r\n  text-align:center;\r\n  font-size: 16px;\r\n  font-family: \"Oswald\", sans-serif;\r\n  font-weight:600px;\r\n line-height:23.5px;\r\n  cursor:pointer;\r\n  letter-spacing:2px;\r\n  border-radius:4px;\r\n    text-decoration: none;\r\n\r\n    transform:'${(props)=>(props.small ? \"scale(0.7)\" : \"scale(1)\")}';\r\n  transition:all 0.5s ease;\r\n  &:hover{\r\n    background-color:${props => props.theme.black};\r\n  }\r\n  & > * {\r\n    cursor:pointer;\r\n  }\r\n    @media screen and (max-width: 550px){\r\n   transform:scale(0.8);\r\n`;\r\nexport const ButtonPrimary = styled(Button)`\r\n  background:${props => props.theme.orange};\r\n`;\r\n\r\n\r\n\r\n","import styled  from 'styled-components'\r\n\r\n\r\nexport const OptionList = styled.select`\r\n    color: rgb(0 0 0 / 50%);\r\n    padding: 7px;\r\n    border-radius: 5px;\r\n    outline: none;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    margin: 0;\r\n    border: none;\r\n    margin-bottom: 20px;\r\n    background: #fff;\r\nbox-shadow:  1px 1px 6px 0px #ccc;\r\n    text-transform: capitalize;\r\n    margin: 0 20px 20px auto;\r\n\r\n`\r\nexport const Option = styled.option`\r\n&:checked{\r\n   background: #fcba1c;\r\n}\r\n`\r\nexport default function SortProductsOptions({setSortPreferece}){\r\n\r\n\r\nreturn(\r\n<OptionList name=\"sortProductBy\" onChange={(e) => setSortPreferece(e.target.value)}>\r\n<Option value=\"-createdAt\" >Más recientes</Option>\r\n<Option value=\"createdAt\" >Más antiguos</Option>\r\n<Option value=\"price\" >Menor precio</Option>\r\n<Option value=\"-price\" >Mayor precio</Option>\r\n<Option value=\"-sold\" >Populares</Option>\r\n\r\n</OptionList>\r\n\r\n);\r\n\r\n} ","\r\nimport styled from 'styled-components'\r\n\r\nexport const ButtonsWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:center;\r\nwidth:100%;\r\ngap:15px;\r\n&> button{\r\n  padding: 5px 10px 6px;\r\n  cursor:pointer;\r\n  background:${props => props.theme.black};\r\n    color:${props => props.theme.darckYellow};\r\nbox-shadow:${props => props.theme.lightBoxShadow};\r\n    border:transparent;\r\n    outline:transparent;\r\n    fornt-size:20px;\r\n    font-family:oswald;\r\n    lettter-spacing: 1px;\r\n    border-radius: 10px;\r\n}\r\n@media screen and (min-width:500px){\r\n  &> button{\r\n    transform:scale(1.1);\r\n  }\r\n}\r\n`;\r\nexport default function PaginationButtons({page,maxPage,setPage}){\r\n  return(\r\n    <ButtonsWrapper>\r\n          {\r\n            (page > 1) ? <button onClick={(e) => setPage(page - 1)} >\r\n           {'<< '}Prev</button> : null\r\n          }\r\n          {\r\n            (page < maxPage) ? <button onClick={(e) => setPage(page + 1)} >\r\n              Next{' >>'}</button> : null\r\n          }\r\n        </ButtonsWrapper>\r\n  );\r\n}","import styled from 'styled-components'\r\nimport {withError} from './../withError'\r\nimport { LoaderSpinner } from './../LoaderSpinner'\r\nimport ProductsSectionSkeletom from '../ProductsSectionSkeletom'\r\nimport useMenu from '../../hooks/useMenu'\r\nimport SearchBar from '../MenuSearchBar'\r\nimport SortProductsOptions from '../SortProductsOptions'\r\nimport FilterCategoryOptions from '../FilterCategoryOptions'\r\nimport PaginationButtons from '../PaginationButtons'\r\nimport  ProductsSectionComponent from './ProductsSection' \r\n\r\nconst StyledMenu = styled.main`\r\nmin-height:100vh;\r\nwidth:100vw;\r\npadding: 65px 0 20px;\r\nmargin:0;\r\nmargin-bottom:20px;\r\ntext-aling:center;\r\n\r\n`;\r\nexport const SectionTitle = styled.h2`\r\ntext-align:center;\r\ntext-transform: uppercase;\r\n    margin-bottom: 40px;\r\ncolor:${(props) => (props.light ? \"#fff\" : \"#fcba1c\")};\r\n text-shadow: ${props => props.theme.darckTextShadow};\r\n`;\r\nconst MenuWrapper = styled.section`\r\ndisplay:flex;\r\nflex-direction: column;\r\nflex-wrap: wrap;\r\npadding-bottom: 20px ;\r\nwidth:100%;\r\n    & >${LoaderSpinner} {\r\n  position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 500;\r\n    margin: -60px 0  0 -60px ;\r\n \r\n}\r\n`;\r\nconst CategoryTitle = styled.h4`\r\n    text-align: center;\r\n    line-height: 15px;\r\n    color: #fcba1c;\r\n    font-size: 28px;\r\n    margin: 10px 5px;\r\n text-shadow: ${props => props.theme.darckTextShadow};\r\n    text-transform: capitalize;\r\n&:before {\r\n  content:\".\";\r\n}\r\n`\r\nconst SearchBarWrapper = styled.div`\r\nwidth:100vw;\r\n    margin: 30px auto 40px\r\n`;\r\nconst CategoryWrapper = styled.section`\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    background: ${props => props.theme.darckRed};\r\n    justify-content: center;\r\n    margin: -10px 0 20px;\r\n    padding:  20px 15px;\r\n    box-shadow: inset 0 0 20px 0 #1111118c;\r\n\r\n`;\r\nexport const ProductsSection = styled.div`\r\n    &:before{\r\n    display: ${props => props.isLoading ? 'block' : 'none'};\r\n      position:absolute;\r\n      content:\" \";\r\n      top:0;\r\n      left:0;\r\n    right:0;\r\n    bottom:0;\r\n    background:#ffffff57;\r\n    z-index:400;\r\n    }\r\n    width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 0 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n\r\n`;\r\nexport const NotFaundMessage = styled.h4`\r\nmargin-top: 20px;\r\ndisplay:block;\r\nwidth:100%;\r\n`;\r\n\r\nconst FiltersBoard = styled.div`\r\n    flex-wrap: wrap;\r\n    margin: 0 15px 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    max-width: max-content;\r\n    & > select {\r\n      margin: 0 10px 10px 0;\r\n   \r\n}\r\n\r\n`;\r\n\r\nfunction Menu() {\r\n\r\nconst {isLoading, maxPage, products,populatedCategories,sorting,page,setPage, setCategory, setSorting,setTitle,isFirstRender} = useMenu()\r\n\r\n\r\n  return (\r\n\r\n\r\n    <StyledMenu>\r\n\r\n      <SectionTitle>Menú</SectionTitle>\r\n\r\n <SearchBarWrapper>\r\n\r\n          <SearchBar setSearch={setTitle}  />\r\n        </SearchBarWrapper>\r\n      <MenuWrapper>\r\n\r\n\r\n\r\n        <CategoryWrapper >\r\n          {populatedCategories?.map((category, index) =>\r\n\r\n            <CategoryTitle key={index}>{category.name}</CategoryTitle>\r\n\r\n          )}\r\n        </CategoryWrapper >\r\n\r\n\r\n       \r\n\r\n        <FiltersBoard>\r\n          <FilterCategoryOptions categories={populatedCategories} setCategoryPreferece={setCategory}  />\r\n          <SortProductsOptions setSortPreferece={setSorting} sortPreference={sorting} />\r\n        </FiltersBoard>\r\n\r\n  {isLoading &&<LoaderSpinner />}\r\n\r\n{ (isLoading && isFirstRender  )?  <ProductsSectionSkeletom /> :\r\n\r\n<ProductsSectionComponent isLoading={isLoading} products={products}/>\r\n }\r\n        \r\n      </MenuWrapper>\r\n\r\n<PaginationButtons setPage={setPage} page={page} maxPage={maxPage} />\r\n  \r\n      \r\n    </StyledMenu>\r\n\r\n  );\r\n}\r\n\r\nexport default withError(Menu)","import { useEffect, useState} from 'react'\r\nimport {useHistory,useLocation} from 'react-router-dom'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default function useMenu(){\r\nconst history = useHistory()\r\nconst location = useLocation()\r\n    const {categories} = useStorage()\r\n    \r\n let populatedCategories = categories?.filter(category => category?.quantity > 0)\r\n\r\n  let query = new URLSearchParams();\r\n  let sizeLimit = 6\r\n  let activeProducts = true\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  let [products, setProducts] = useState([])\r\n  const [category, setCategory] = useState(\"all\")\r\n  const [sorting, setSorting] = useState(\"-createdAt\")\r\n  const [title, setTitle] = useState(\"\")\r\nconst [isFirstRender, setIsFirstRender] = useState(true)\r\n\r\n  query.append('active', activeProducts)\r\n  query.append('sort', sorting)\r\n  query.append('page', page)\r\n  query.append('limit', sizeLimit)\r\n    \r\n  \r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [sorting])\r\n\r\nuseEffect(() => {\r\n \r\n      if (category !== \"all\") {\r\n        query.append('category', category)\r\n        setPage(1)\r\n      }\r\n}, [category])\r\n\r\nuseEffect(() => {\r\n if (title !== \"\") {\r\n        query.append('title', title)\r\n        setPage(1)\r\n    setSorting('-createdAt')\r\n    setCategory('all')\r\n      }\r\n}, [title])\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    const controller = new AbortController()\r\n    const signal = controller.signal\r\n    setIsLoading(true)\r\n\r\n    if( isFirstRender && location.search !==\"\"){\r\n        query =location.search.split('?')[1]\r\n\r\n      }\r\n \r\n\r\n    const fechProducts = async () => {\r\n\r\n      try {\r\n\r\n        let res = await fetch(`/api/products?${query}`, { signal, })\r\n        let json = await res.json()\r\n\r\n        setProducts(json.data)\r\n\r\n        let total = parseInt(json.total)\r\n\r\n        setMaxPage(Math.ceil(total / sizeLimit))\r\n\r\n  history.push(`/menu?${query}`)\r\n\r\ndocument.querySelector('body').scrollTo(0,100)\r\n        setIsLoading(false)\r\n        setIsFirstRender(false)\r\n      } catch (err) {\r\n        if (err.name === 'AbortError') {\r\n          console.log('Fetch Canseled: caught abort')\r\n        } else {\r\n\r\n          console.log(err)\r\n          \r\n        }\r\n      }\r\n    }\r\n    fechProducts()\r\n   \r\n    return () => {\r\n      controller.abort()\r\n    }\r\n  }, [title,sorting,page,category])\r\n\r\n\r\n\r\n\r\nreturn {isLoading, maxPage, products,populatedCategories,page,setPage,  setCategory, setSorting,setTitle,isFirstRender}\r\n\r\n}","import styled from 'styled-components'\r\nimport Item from './MenuItem'\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\n\r\nexport const ProductsSection = styled.div`\r\n    &:before{\r\n    display: ${props => props.isLoading ? 'block' : 'none'};\r\n      position:absolute;\r\n      content:\" \";\r\n      top:0;\r\n      left:0;\r\n    right:0;\r\n    bottom:0;\r\n    background:#ffffff57;\r\n    z-index:400;\r\n    }\r\n    width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 0 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n\r\n`;\r\nexport const NotFaundMessage = styled.h4`\r\nmargin-top: 20px;\r\ndisplay:block;\r\nwidth:100%;\r\n`;\r\n\r\nexport default function ProductsSectionComponent({isLoading,products}){\r\n\r\nreturn(\r\n<ProductsSection>\r\n\r\n{   \r\n( (!isLoading)   &&  (products?.length ===  0)) ?\r\n            <NotFaundMessage>No se han encontrado coincidencias, intenta de nuevo!!</NotFaundMessage>\r\n            :\r\n            products?.map(product =>\r\n            <Item data-testid='productItem' key={product._id} item={product} >\r\n                   <AddToCartButton thisProductInfo={product}/>\r\n            </Item>\r\n            )\r\n}\r\n</ProductsSection>\r\n \r\n\r\n)\r\n}","import styled from 'styled-components'\r\n\r\nconst Container = styled.section`\r\n width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 10px 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n`\r\n\r\nconst Item = styled.figure `\r\ndisplay:flex;\r\nbox-sizing:border-box;\r\nborder-radius:5px;\r\nposition:relative;\r\nmin-width: 250px;\r\nheight:350px;\r\nflex-flow:column;\r\nover-flow:hidden;\r\npadding:20px;\r\nborder: 1px solid #00000026;\r\nbox-shadow: 1px 1px 5px #00000057;\r\nbackground:#f3f3f3;\r\n`\r\nconst ImgContainer = styled.div`\r\nheight:150px;\r\nwidth:100%;\r\npositon:relative;\r\ndisplay:flex;\r\nbackground:#fff;\r\nmargin-bottom:10px;\r\nborder-radius:5px;\r\nbox-shadow: 0 1px 3px #ccc;\r\n \r\n`;\r\nconst TextLine = styled.div`\r\nheight:20px;\r\nwidth:100%;\r\nbackground:#fff;\r\nmargin: 10px auto;\r\nbox-shadow: 0 1px 3px #ccc;\r\n`\r\nexport default function ProductsSectionSkeletom() {\r\n  \r\n  return(\r\n<Container data-testid='products-skeketom'>\r\n  <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n  <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n<Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n<Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n</Container>\r\n\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/loupe.21575f61.svg\";","import styled from 'styled-components'\r\nimport loupe from '../img/loupe.svg'\r\n\r\nconst StyledSearchBar = styled.form`\r\nwidth:max-content;\r\nmargin:0 auto;\r\nposition:relative;\r\n`;\r\nconst SearchInput = styled.input`\r\nposition:relative;\r\nwidth:200px;\r\npadding: 8px;\r\npadding-left: 15px;\r\nborder-radius: 15px;\r\noutline: none;\r\nbox-shadow: ${props => props.theme.lightBoxShadow};\r\ntransition: all 0.5s ease;\r\nborder:none;\r\nmargin-left: -6px;\r\nposition: relative;\r\n&:focus{\r\n  width:250px;\r\nbox-shadow: 0 0 10px rgba(0,0,0,0.2);\r\n  \r\n}\r\n&::placeholder {\r\n    font-size: 14px;\r\n\r\n}\r\n&:focus + div{\r\n  margin-left: 210px;\r\n  \r\n}\r\n&::-webkit-search-cancel-button{\r\n  display:none;\r\n}\r\n`;\r\nconst SerchIconeWrapper = styled.div`\r\nwidth:30px;\r\nheight:30px;\r\nposition:absolute;\r\nmargin-top:-34px;\r\nmargin-left: 160px;\r\ntransition: all 0.5s ease;\r\ntransform:scale(0.7);\r\n`\r\nconst SearchIcone = styled.img` \r\nheight: 100%;\r\n`;\r\nexport default function SearchBar({setSearch ,placeholder}){\r\n\r\nconst resetFilter = (e) =>{\r\n  if(e.target.value ===\"\"){\r\nsetSearch(\"\")\r\n  }\r\n}\r\n\r\nconst handelSubmit = (e) =>{\r\n e.preventDefault()\r\n\r\n  let searchString = e.target?.search?.value\r\nsetSearch(searchString)\r\n}\r\n  return(\r\n<StyledSearchBar onSubmit={handelSubmit}>\r\n<SearchInput name=\"search\" placeholder={placeholder || 'Buscar...'} type=\"search\" onChange={resetFilter}/>\r\n<SerchIconeWrapper ><SearchIcone src={loupe} alt=\"search\"/></SerchIconeWrapper>\r\n</StyledSearchBar>\r\n  );\r\n\r\n}","import styled  from 'styled-components'\r\nimport { useState} from 'react'\r\nimport {useHistory,useLocation} from 'react-router-dom';\r\nimport defaultImage from '../../img/default-image.png';\r\n\r\n\r\n\r\nconst Item = styled.article `\r\ndisplay:flex;\r\nbox-sizing:border-box;\r\nborder-radius:5px;\r\nposition:relative;\r\n\r\nmin-width: 250px;\r\nheight:350px;\r\nflex-flow:column;\r\nover-flow:hidden;\r\npadding:20px;\r\nborder: 1px solid #00000026;\r\nbox-shadow: 1px 1px 5px #00000057;\r\n`\r\nconst Description =styled.div`\r\ndisplay:flex;\r\nalign-items:center;\r\npadding-bottom:5px;\r\n`;\r\nconst ProductLink =styled.h3`\r\ntext-decoration:none;\r\nmargin-bottom:2px;\r\n  color: #272727;\r\nletter-spasing:0;\r\ncursor:pointer;\r\nline-height:35px;\r\ntext-transform:capitalize ;\r\ntransition: all 0.5s;\r\n  font-family: \"Oswald\", sans-serif;\r\n  font-size: 25px;\r\n&:hover {\r\n      color: color: rgb(0 0 0 / 50%);\r\n\r\n}\r\n`\r\n\r\nconst Size = styled.small`\r\nalign-self: flex-start;\r\n    color: rgba(0,0,0,0.8);\r\n    font-weight: 600;\r\n    margin: 10px;\r\n    margin-top: 8px;\r\n`;\r\nconst Price = styled.h4 `\r\n    align-self: end;\r\n    color: #fcba1c;\r\n    margin:0;\r\n&:before{\r\n  content:\"$\";\r\n}\r\n`\r\n\r\nconst ImgContainer = styled.div`\r\nheight:150px;\r\nwidth:100%;\r\noverflow:hidden;\r\npositon:relative;\r\ndisplay:flex;\r\njustify-content:center;\r\nmargin-bottom:10px;\r\nborder-radius:5px;\r\nbox-shadow: 0 1px 3px #ccc;\r\n    background-image: ${props => props.isLoaded ? 'none' : `url(${defaultImage})`};\r\n    background-repeat: no-repeat;\r\n    background-size: auto 100%;\r\n    backface-visibility: hidden;\r\n    background-position: center;\r\n`;\r\nconst Img = styled.img`\r\ntransition:all 0.5s ease;\r\nheight:100%;\r\n&:hover{\r\n  transform:scale(0.8);\r\n}\r\n\r\n`;\r\n function MenuItem(props){\r\n  let history = useHistory()\r\n let location = useLocation()\r\n  const item = props.item;\r\n  const [isLoaded,setIsLoaded] = useState(false)\r\n\r\n\r\nconst handleRedirect = (id) =>{\r\n  return  history.push({\r\n  pathname: '/menu/'+id,\r\n  search: '?from='+location.pathname,\r\n\r\n})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  return(\r\n  <Item data-testid='productItem' key={item._id}>\r\n\r\n<ImgContainer isLoaded={isLoaded}> \r\n\r\n<Img src={item?.img} onLoad={()=> setIsLoaded(true)} alt={item.name}></Img>\r\n\r\n\r\n\r\n</ImgContainer>\r\n\r\n      <ProductLink onClick={ () => handleRedirect(item._id)}>{item.name}</ProductLink>  \r\n   <Description><Price >{item.price}</Price> <Size>{item.size}  </Size>  </Description> \r\n        \r\n          {\r\n          props.children\r\n          }\r\n        \r\n      \r\n   </Item>\r\n   );\r\n}\r\n\r\nexport default MenuItem\r\n","\r\nimport {Option,OptionList} from './SortProductsOptions'\r\n\r\nexport default function FilerCategoryOptions({categories,setCategoryPreferece}){\r\n\r\n  const handelChange = (e) =>{\r\n e.preventDefault()\r\n setCategoryPreferece(e.target.value)\r\n}\r\n\r\nreturn(\r\n<OptionList name=\"filterProductsByCategory\" onChange={(e) =>handelChange(e)}>\r\n\r\n<Option value=\"all\" >Todas las categorías</Option\r\n>\r\n{categories?.map( category => \r\n  \r\n  <Option value={category.name} key={category._id} >{category.name}</Option>\r\n  \r\n  )}\r\n\r\n\r\n</OptionList>\r\n\r\n);\r\n\r\n} ","export default __webpack_public_path__ + \"static/media/refresh.f1c42ba5.svg\";","\r\n\r\nimport currentUserAPI from './currentUserAPI'\r\n\r\nasync function deleteOrderAPI({token,id,setCurrentUser}){\r\n\r\n     const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\n     headers.append('Authorization', `Bearer ${token}`);\r\n\r\n\r\n        const setting = {\r\n          method: 'DELETE',\r\n          headers: headers,\r\n\r\n        }\r\n\r\n\r\ntry {\r\n\r\n        let res = await fetch( `/api/orders/${id}`, setting);\r\n\r\n         if(res.status  ===204 ){\r\n\r\n   await currentUserAPI({setCurrentUser,token})\r\n    return \r\n    }\r\n\r\n\r\n      } catch (err) { console.log(err)}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\nexport default deleteOrderAPI","import styled  from 'styled-components'\r\nimport {Link} from 'react-router-dom'\r\nimport useMyOrdersPage from '../../hooks/useMyOrdersPage'\r\nimport {ButtonPrimary} from '../Buttons'\r\nimport {SectionTitle} from '../menu/Menu'\r\nimport PaginationButtons from '../PaginationButtons'\r\nimport refreshIcone from '../../img/refresh.svg'\r\n\r\n\r\n\r\n\r\nconst Page = styled.main`\r\n    padding: 65px 5px;\r\nmin-height:100vh;\r\nwidth:100%;\r\nmargin: 0 auto;\r\ntext-align:center;\r\nbackground:${props => props.theme.lightYellow};\r\n\r\n`;\r\nexport const TableHead = styled.thead`\r\nbackground-color: ${props => props.theme.black};\r\ncolor: ${props => props.theme.darckYellow};\r\n& > tr th {\r\n   padding: 10px 0;\r\n       font-family: \"Oswald\", sans-serif;\r\n       font-size:19px;\r\n}\r\n`;\r\nexport const OrdersTable = styled.table`\r\n    width: 100%;\r\nmax-width:900px;\r\nmargin: 20px auto 30px;\r\n    border-spacing: 10px;\r\n    border-collapse: collapse;\r\n    border: 2px solid ${props => props.theme.black};\r\n        box-shadow: ${props => props.theme.lihgtBoxShadow};\r\n        text-transform: capitalize;\r\n&> tbody{\r\n  background:#fff;\r\n}\r\n& > tbody td small {\r\n       margin-right: 5px;\r\n}\r\n& >tbody td {\r\n  padding: 10px 0;\r\n  cursor:pointer;\r\n}\r\n& > tbody tr {\r\n      border-bottom: 1px solid;\r\n}\r\n@media screen and (max-width: 750px){\r\n   max-width: 400px;\r\n  & > ${TableHead}{\r\n  display: none;\r\n    max-width: 400px;\r\n}\r\n& tbody tr {\r\ndisplay: flex;\r\n  flex-direction: column;\r\n}\r\n& >  tbody tr td {\r\n      display: flex;\r\n    padding: 5px 15px;\r\n    text-align: right;\r\n}\r\n& >  tbody tr td:first-child {\r\n  color:#fff;\r\n  padding: 10px 15px;\r\nbackground-color: ${props => props.theme.black};\r\n}\r\n& >  tbody tr td:first-child:before {\r\ncontent:\"Nº de Pedido\";\r\n    color: ${props => props.theme.darckYellow};\r\n}\r\n& >  tbody tr td:nth-child(3):before {\r\ncontent:\"Dirección\";\r\n}\r\n& >  tbody tr td:nth-child(2):before {\r\ncontent:\"Fecha\";\r\n}\r\n& >  tbody tr td:nth-child(5):before {\r\ncontent:\"Estado\";\r\n}\r\n& >  tbody tr td:nth-child(4):before {\r\ncontent:\"Total\";\r\n}\r\n& >  tbody tr td:nth-child(6):before {\r\ncontent:\"Acciones\";\r\n}\r\n& >tbody tr td:before{\r\n      margin-right: auto;\r\n    font-family: \"Oswald\", sans-serif;\r\n    font-size: 16px;\r\n    align-self: center;\r\npadding-rigth:5px;\r\n}\r\n}\r\n`\r\n\r\nconst CancelOrderButton = styled.button`\r\npadding:  8px 5px;\r\ncursor:pointer;\r\noutline:none;\r\nmargin: 5px ;\r\n    border-radius: 10px 5px;\r\nborder: none;\r\nfont-family: \"Oswald\", sans-serif;\r\ntransition:all 0.5s ;\r\nopacity:${((props) => (props.disabled ? \"0.4\" : \"1\"))};\r\n&:hover {\r\nbackground:${((props) => (props.disabled ? \"unset\" : \"#cdc8c8\"))};\r\n}\r\n`\r\nconst NotFounMessage = styled.div`\r\npadding: 30px 0;\r\n& >h3{\r\nmargin-bottom:40px;\r\n}\r\n@media screen and (max-width:450px){\r\n  font-size: 25px;\r\n}\r\n& > ${ButtonPrimary} {\r\n      padding: 15px 30px;\r\n}\r\n`;\r\nconst NotFounIcone = styled.h2`\r\nfont-size:50px;\r\n`;\r\nexport const RefreshButton = styled.div` \r\ncursor:pointer;\r\npadding:0 10px;\r\nalign-items: center;\r\n    border-radius: 5px;\r\n    height: 40px;\r\n      box-shadow: ${props => props.theme.lihgtBoxShadow};\r\n    background:${props => props.theme.black};\r\n\r\n    margin: -46px 0 10px auto;\r\n    width: max-content;\r\ndisplay: flex;\r\n    transform: scale(0.7);\r\n    transition: all 0.3s ease;\r\n&:hover{\r\n  transform:scale(0.75);\r\n}\r\n`\r\n\r\n\r\nexport const RefreshIcone = styled.img`\r\nheight: 50%;\r\ncursor:pointer;\r\n`;\r\n\r\n\r\nexport default function MyOrders(){\r\n\r\n\r\n\r\nconst {page,setPage,maxPage,orders,deleteOrder,seeDetails,handelRefresh} = useMyOrdersPage()\r\n\r\n  return(\r\n<Page>\r\n\r\n  <SectionTitle light>Mis Pedidos</SectionTitle>\r\n  \r\n<RefreshButton onClick={handelRefresh}>\r\n  <RefreshIcone   src={refreshIcone} title='Refrescar Página'/>\r\n  </RefreshButton>\r\n\r\n  { (orders?.length > 0 )?\r\n<OrdersTable>\r\n  <TableHead>\r\n    <tr>\r\n    <th>Nº de Pedido</th>\r\n         <th>Fecha</th>\r\n        <th>Dirección</th>\r\n            <th>Total</th>\r\n            <th>Estado</th>\r\n            <th >Acciones</th>\r\n            </tr>\r\n  </TableHead>\r\n  <tbody>\r\n    {orders?.map(order => \r\n\r\n    <tr key={order?._id} onClick={(e) => seeDetails(order?.orderID)}>\r\n    <td>{order?.orderID}</td>\r\n        <td>\r\n  \r\n          <small>{new Date(order?.states[0].date).toLocaleString()?.split(\" \")[0]}</small>\r\n          <br></br>\r\n            <small>{new Date(order?.states[0].date).toLocaleString()?.split(\" \")[1]}</small>\r\n</td>\r\n        <td>{order.client[0].address}</td>\r\n        <td>${order?.total}</td>\r\n        <td> <b>{[...order?.states].reverse().find(state => state.confirmed ===true).name}</b></td>\r\n\r\n         <td  >\r\n                    <CancelOrderButton disabled={(order?.states[1].confirmed === true) ? true : false} onClick={ (e) => deleteOrder(e,order._id)}>\r\nCancelar Pedido\r\n                    </CancelOrderButton>\r\n           </td>\r\n        </tr>\r\n\r\n    )}\r\n\r\n  </tbody>\r\n \r\n</OrdersTable> \r\n:\r\n<NotFounMessage>\r\n        <NotFounIcone >👩🏻&zwj;🍳</NotFounIcone>\r\n        <h3>Ningún pedido realizado, tienes hambre?</h3>\r\n\r\n      <ButtonPrimary small as={Link} to=\"/menu\">Ver Menú</ButtonPrimary>\r\n    </NotFounMessage>\r\n\r\n}\r\n\r\n<PaginationButtons setPage={setPage} page={page} maxPage={maxPage} />\r\n</Page>\r\n  )\r\n}","import {useHistory} from 'react-router-dom'\r\nimport {  useState,useEffect} from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\nimport deleteOrderAPI from '../API/deleteOrderAPI'\r\nimport currentUserAPI from '../API/currentUserAPI'\r\n\r\n\r\n\r\nexport default function useMyOrdersPage(){\r\n\r\n    const {currentUser,token,setCurrentUser,setIsLoading}= useStorage()\r\n    \r\n  const history = useHistory()\r\n\r\n    let limit = 5\r\n    const [page, setPage] = useState(1)\r\n    const [maxPage, setMaxPage] = useState(1)\r\n     const [orders,setOrders] = useState([])\r\n\r\nlet userOrders =[...currentUser?.orders].sort((a, b)=>{\r\n    return    b.createdAt -a.createdAt\r\n});\r\nuseEffect(() => {\r\nsetMaxPage(Math.ceil(userOrders.length/limit))\r\n\r\n setOrders(userOrders.splice( (page-1)*limit  , ((page-1)*limit)+limit))\r\n\r\n},[page,limit,currentUser])\r\n\r\n\r\nconst deleteOrder = (e,id) =>{\r\n e.stopPropagation();\r\nif (!e.target.disabled ) return deleteOrderAPI({token,id,setCurrentUser})\r\n}\r\nconst seeDetails = (orderID) =>{\r\n return history.push(`/myAccount/myOrders/${orderID}` )\r\n}\r\n\r\nconst handelRefresh = () =>{\r\n  setIsLoading(true)\r\n  currentUserAPI({token,setCurrentUser})\r\n\r\n}\r\nuseEffect(()=>{\r\n setIsLoading(false)\r\n},[currentUser])\r\n\r\nreturn {page,setPage,maxPage,orders,deleteOrder,seeDetails,handelRefresh}\r\n}"],"sourceRoot":""}