(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[18],{157:function(e,r,t){"use strict";var s=t(5),n=t.n(s),a=t(6),o=t(15);function u(){return(u=Object(a.a)(n.a.mark((function e(r){var t,s,a,u,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.setCurrentUser,s=r.token,a=localStorage.getItem("userId"),e.prev=2,e.next=5,Object(o.b)("/api/users/me/".concat(a),s);case 5:u=e.sent,l=u.json,t(l.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}r.a=function(e){return u.apply(this,arguments)}},179:function(e,r,t){"use strict";t.r(r);var s=t(3),n=t(2),a=t(56),o=t(1),u=t(5),l=t.n(u),c=t(6),i=t(7),d=t(137),b=t(8),m=t(10),p=t(157),j=t(65),f=t(15);function g(){return(g=Object(c.a)(l.a.mark((function e(r){var t,s,n,a,o,u,c,i,d,b,m,g,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.setFormIsLoading,s=r.setIsSuccessfullySend,n=r.setServerError,a=r.info,o=r.isAdmin,u=r.setAllUsers,c=r.token,i=r.setCurrentUser,d=r.history,e.prev=1,t(!0),n(""),b=localStorage.getItem("userId"),e.next=7,Object(f.d)("/api/users/me/".concat(b),a,c);case 7:if(m=e.sent,g=m.response,h=m.json,t(!1),200!==g.status){e.next=21;break}if(e.t0=o,!e.t0){e.next=16;break}return e.next=16,Object(j.a)({token:c,setAllUsers:u});case 16:return e.next=18,Object(p.a)({token:c,setCurrentUser:i});case 18:return s(!0),setTimeout((function(){s(!1),d.push("/myAccount/myProfile")}),3e3),e.abrupt("return");case 21:n(h.message),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(1),console.log(e.t1);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})))).apply(this,arguments)}var h=function(e){return g.apply(this,arguments)};var x,O,v,w,S,C=t(33),y=t(141),N=t(146),k=t(154),A=t(25),I=t.p+"static/media/user-edit-solid.3b6cccdd.svg",P=t(0),V=n.b.section(x||(x=Object(s.a)(["\n  min-height: 100vh;\n  width: 100vw;\n  padding: 60px 0px;\n"]))),L=n.b.form(O||(O=Object(s.a)(["\n  max-width: 400px;\n  width: 100%;\n  padding: 10px 25px 40px;\n  border-radius: 10px;\n  background: #fff;\n  margin: 50px auto;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  & > input {\n    border: none;\n    background: #f0f0f0;\n  }\n  & > label {\n    margin: 0 auto 20px;\n  }\n  & > small {\n    margin: -10px auto 4px 0;\n  }\n  & > "," {\n    min-width: 100%;\n  }\n\n  & > input:focus {\n    outline: 2px solid #ccc;\n    outline-style: auto;\n  }\n"])),k.h),U=n.b.div(v||(v=Object(s.a)(["\n  margin-top: -15px;\n  & > label {\n    font-size: 16px;\n  }\n"]))),q=n.b.img(w||(w=Object(s.a)(["\n  width: 120px;\n  margin: 0 auto;\n  margin-bottom: 20px;\n  margin-top: -20px;\n"]))),E=Object(n.b)(A.a)(S||(S=Object(s.a)(['\n  margin-left: 15px;\n  &:before {\n    content: "<-- ";\n    margin-right: 3px;\n  }\n'])));function F(e){var r=e.setIsChangingPassword,t=e.value;return Object(P.jsxs)(k.b,{children:[Object(P.jsx)("label",{htmlFor:"newPasswordCheckbox",children:"Cambiar contrase\xf1a:"}),Object(P.jsx)("input",{onChange:function(e){r(!t)},id:"newPasswordCheckbox",type:"checkbox",name:"newPasswordCheckbox"})]})}function T(e){var r=e.register,t=e.errors,s=e.placeholder,n=e.defaultValue;return Object(P.jsxs)(o.Fragment,{children:[t.userNumber&&Object(P.jsx)(y.a,{role:"alert",children:t.userNumber.message}),Object(P.jsx)(y.b,{placeholder:s,name:"userNumber",type:"text",defaultValue:n||"",ref:r({required:"*El campo es requrido",minLength:{value:9,message:"*Tel\xe9fono Invalido"},maxLength:{value:10,message:"*Tel\xe9fono Invalido"},pattern:{value:/[0-9]/,message:"*Solo se aceptan n\xfameros"}}),style:{borderColor:t.userNumber&&"#bf0000"}})]})}function B(e){var r=e.register,t=e.defaultValue;return Object(P.jsxs)(k.h,{name:"userCityAddress",ref:r({required:"*El campo es requrido"}),children:[Object(P.jsx)(k.g,{value:"C\xf3rdoba",selected:"c\xf3rdoba"===t,children:"C\xf3rdoba"}),Object(P.jsx)(k.g,{value:"Buenos Aires",selected:"buenos aires"===t,children:"Buenos Aires"})]})}function J(e){var r=e.errors,t=e.placeholder,s=e.register,n=e.defaultValue;return Object(P.jsxs)(o.Fragment,{children:[r.userStreetAddress&&Object(P.jsx)(y.a,{role:"alert",children:r.userStreetAddress.message}),Object(P.jsx)(y.b,{placeholder:t,name:"userStreetAddress",defaultValue:n||"",ref:s({required:"*El campo es requrido"}),style:{borderColor:r.userStreetAddress&&"#bf0000"}})]})}function z(e){var r=e.errors,t=e.placeholder,s=e.register,n=e.defaultValue;return Object(P.jsxs)(o.Fragment,{children:[r.userStreetNumber&&Object(P.jsx)(y.a,{role:"alert",children:r.userStreetNumber.message}),Object(P.jsx)(y.b,{placeholder:t,name:"userStreetNumber",defaultValue:n||"",ref:s({required:"*El campo es requrido",maxLength:{value:4,message:"*N\xfamero Invalido"},pattern:{value:/[0-9]/,message:"*Solo se aceptan n\xfameros"}}),style:{borderColor:r.userStreetNumber&&"#bf0000"}})]})}r.default=Object(a.a)((function(){var e=function(){var e=Object(m.a)(),r=e.token,t=e.setCurrentUser,s=e.setAllUsers,n=e.isAdmin,a=e.setIsSuccessfullySend,u=e.currentUser,p=Object(o.useState)(""),j=Object(i.a)(p,2),f=j[0],g=j[1],x=Object(o.useState)(!1),O=Object(i.a)(x,2),v=O[0],w=O[1],S=Object(o.useState)(!1),C=Object(i.a)(S,2),y=C[0],N=C[1],k={name:u.name.split(" ")[0],lastName:u.name.split(" ")[1],street:u.address.split(",")[0].split(" ").slice(0,-1).join(" "),streetNumber:u.address.split(",")[0].split(" ").splice(-1),number:u.number,city:u.address.split(",")[1].trim()},A=Object(b.g)(),I=Object(d.a)({mode:"onBlur"});function P(){return(P=Object(c.a)(l.a.mark((function e(t,o){var u,c,i,d,b,m,p,j,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),b=null===(u=t.userName)||void 0===u?void 0:u.toLowerCase(),m=null===(c=t.userLastName)||void 0===c?void 0:c.toLowerCase(),p=null===(i=t.userCityAddress)||void 0===i?void 0:i.toLowerCase(),j=null===(d=t.userStreetAddress)||void 0===d?void 0:d.toLowerCase(),f={name:b,lastName:m,password:t.userPassword||null,newPassword:t.userNewPassword||null,number:t.userNumber,city:p,street:j,streetNumber:t.userStreetNumber},e.next=5,h({setFormIsLoading:N,setIsSuccessfullySend:a,setServerError:g,info:f,isAdmin:n,setAllUsers:s,token:r,history:A});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{register:I.register,handleSubmit:I.handleSubmit,errors:I.formState.errors,onSubmit:function(e,r){return P.apply(this,arguments)},serverError:f,setCurrentUser:t,formIsLoading:y,defaultsValues:k,isChangingPassword:v,setIsChangingPassword:w}}(),r=e.register,t=e.handleSubmit,s=e.errors,n=e.onSubmit,a=e.serverError,u=e.formIsLoading,p=e.isChangingPassword,j=e.setIsChangingPassword,f=e.defaultsValues;return Object(P.jsxs)(V,{children:[Object(P.jsx)(E,{to:"/myAccount/myProfile",children:"Regresar"}),Object(P.jsxs)(L,{onSubmit:t(n),novalidate:!0,children:[Object(P.jsx)(q,{src:I,alt:"edit-profile"}),Object(P.jsx)(N.h,{errors:s,register:r,defaultValue:f.name}),Object(P.jsx)(N.g,{errors:s,register:r,defaultValue:f.lastName}),Object(P.jsx)(T,{defaultValue:f.number,errors:s,register:r,placeholder:"Tu tel\xe8fono..."}),Object(P.jsx)(B,{register:r,defaultValue:f.city}),Object(P.jsx)(J,{errors:s,register:r,placeholder:"Calle...",defaultValue:f.street}),Object(P.jsx)(z,{errors:s,register:r,placeholder:"N\xfamero de puerta...",defaultValue:f.streetNumber}),Object(P.jsx)(U,{children:Object(P.jsx)(F,{setIsChangingPassword:j,value:p})}),p?Object(P.jsxs)(o.Fragment,{children:[Object(P.jsx)(N.j,{errors:s,register:r,name:"userPassword",placeholder:"Tu contrase\xf1a..."}),Object(P.jsx)(N.i,{errors:s,register:r,name:"newPassword",placeholder:"Nueva contrase\xf1a..."})]}):null,u?Object(P.jsx)(C.a,{small:!0}):Object(P.jsx)(N.a,{children:a}),Object(P.jsx)(k.c,{small:!0})]})]})}))}}]);
//# sourceMappingURL=18.86305a4a.chunk.js.map