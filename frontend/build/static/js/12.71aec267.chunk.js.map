{"version":3,"sources":["components/Buttons.js","img/shopping-cart-solid.svg","components/AddToCartButton.js","hooks/useAddToCartButton.js","img/default-image.png","img/refresh.svg","API/deleteOrderAPI.js","components/account/MyOrdersPage.js","hooks/useMyOrdersPage.js","components/FilterOrderStateOptions.js","components/SortOrdersOptions.js","components/dashboard/DashboardOrders.js","hooks/useDashboardOrders.js"],"names":["Button","styled","a","props","theme","lightBoxShadow","darckYellow","small","black","ButtonPrimary","orange","CartButton","button","isAdded","CartIcon","img","AddToCartButton","thisProductInfo","item","useStorage","cartProducts","addToCart","addToTotalCost","useState","setIsAdded","products","map","product","info","_id","useEffect","indexOf","handlerAddToCartAndAddToTotalCost","cost","quantity","useAddToCartButton","onClick","parseInt","price","style","position","src","shoopingCartIcon","alt","token","id","setCurrentUser","headers","Headers","append","setting","method","fetch","status","currentUserAPI","console","log","deleteOrderAPI","Page","main","lightYellow","TableHead","thead","OrdersTable","table","lihgtBoxShadow","CancelOrderButton","disabled","NotFounMessage","div","NotFounIcone","h2","RefreshButton","RefreshIcone","MyOrders","currentUser","setIsLoading","history","useHistory","page","setPage","maxPage","setMaxPage","orders","setOrders","userOrders","sort","b","createdAt","Math","ceil","length","splice","deleteOrder","e","stopPropagation","target","seeDetails","orderID","push","handelRefresh","useMyOrdersPage","light","refreshIcone","title","order","Date","states","date","toLocaleString","split","client","address","total","reverse","find","state","confirmed","name","as","Link","to","FilterOrdersStateOptions","setStatePreferece","onChange","preventDefault","value","handelChange","SortOrdersOptions","setSortPreferece","section","isLoading","LoaderSpinner","NotFaundMessage","DashboardOrders","location","useLocation","query","URLSearchParams","setOrderID","setIsLoadingPage","setState","sorting","setSorting","isFirstRender","setIsFirstRender","isRefreshing","setIsRefreshing","controller","AbortController","signal","search","res","json","data","document","querySelector","scrollTo","productsAPI","abort","handleRefresh","useDashboardOrders","DashboardNav","placeholder","setSearch","sortPreference"],"mappings":"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","file":"static/js/12.71aec267.chunk.js","sourcesContent":["\r\nimport styled  from 'styled-components'\r\n\r\n   export  const Button= styled.a`\r\n     box-shadow: ${props => props.theme.lightBoxShadow};\r\npadding: 15px 40px;\r\ncolor:#fff;\r\nwidth:max-content;\r\n  background:${props => props.theme.darckYellow};\r\n  text-transform: uppercase;\r\n  text-align:center;\r\n  font-size: 16px;\r\n  font-family: \"Oswald\", sans-serif;\r\n  font-weight:600px;\r\n line-height:23.5px;\r\n  cursor:pointer;\r\n  letter-spacing:2px;\r\n  border-radius:4px;\r\n    text-decoration: none;\r\n\r\n    transform:'${(props)=>(props.small ? \"scale(0.7)\" : \"scale(1)\")}';\r\n  transition:all 0.5s ease;\r\n  &:hover{\r\n    background-color:${props => props.theme.black};\r\n  }\r\n  & > * {\r\n    cursor:pointer;\r\n  }\r\n    @media screen and (max-width: 550px){\r\n   transform:scale(0.8);\r\n`;\r\nexport const ButtonPrimary = styled(Button)`\r\n  background:${props => props.theme.orange};\r\n`;\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/shopping-cart-solid.f0d47d21.svg\";","import styled  from 'styled-components'\r\nimport useAddToCartButton from '../hooks/useAddToCartButton'\r\nimport shoopingCartIcon from '../img/shopping-cart-solid.svg';\r\n\r\nexport const CartButton = styled.button`\r\nposition:relative;\r\nmargin-left:auto;\r\nmargin-top:auto;\r\nbox-shadow: ${props=> props.theme.lightBoxShadow};\r\npadding:20px 0;\r\nwidth:50px;\r\ndisplay:flex;\r\njustify-content:center;\r\nalign-items:center;\r\nbackground: ${(props) => props.isAdded  ? props.theme.darckYellow :  props.theme.black}  ;\r\noutline:none;\r\nborder:none;\r\nborder-radius: 4px;\r\nfont-weight:600;\r\ncursor:pointer;\r\nfont-size:20px;\r\ncolor:#fff;\r\ntransition: all 0.3s ease;\r\n&:hover{\r\n  background:${props => props.theme.darckYellow};\r\n}`\r\nexport const CartIcon = styled.img`\r\nwidth:20px;\r\nheight:20px;\r\ntransition: all 05s ease;\r\n\r\n`;\r\nexport default function AddToCartButton({thisProductInfo}){\r\n\r\n\r\n\r\n const {handlerAddToCartAndAddToTotalCost,isAdded} = useAddToCartButton(thisProductInfo)\r\n\r\n  return(\r\n           <CartButton  isAdded={isAdded}\r\n       onClick={ () => handlerAddToCartAndAddToTotalCost(thisProductInfo,parseInt(thisProductInfo?.price))}>\r\n         <CartIcon style={{  position:'absolute'}} src={shoopingCartIcon} alt=\"add-to-cart\"/>\r\n       </CartButton>\r\n  );\r\n}","import { useState,useEffect } from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default   function useAddToCartButton(item){\r\n\r\n  const {cartProducts,addToCart,addToTotalCost} = useStorage()\r\n\r\n const [isAdded,setIsAdded] =useState(false)\r\n \r\n  let products =cartProducts.map( product => product.info._id)\r\n\r\nuseEffect(()=>{\r\n\r\n  products.indexOf(item._id) !== -1 ? setIsAdded(true) : setIsAdded(false);\r\n},[products,item])\r\n\r\n  const handlerAddToCartAndAddToTotalCost= (product, cost) =>{\r\n\r\n  if( products.indexOf(product._id) === -1){\r\naddToTotalCost(cost)\r\naddToCart({info: product, quantity: 1})\r\n\r\nreturn\r\n  }\r\n  \r\nreturn\r\n}\r\n\r\n\r\n    return {handlerAddToCartAndAddToTotalCost,isAdded}\r\n  }\r\n","export default __webpack_public_path__ + \"static/media/default-image.02bd9b08.png\";","export default __webpack_public_path__ + \"static/media/refresh.f1c42ba5.svg\";","\r\n\r\nimport currentUserAPI from './currentUserAPI'\r\n\r\nasync function deleteOrderAPI({token,id,setCurrentUser}){\r\n\r\n     const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\n     headers.append('Authorization', `Bearer ${token}`);\r\n\r\n\r\n        const setting = {\r\n          method: 'DELETE',\r\n          headers: headers,\r\n\r\n        }\r\n\r\n\r\ntry {\r\n\r\n        let res = await fetch( `/api/orders/${id}`, setting);\r\n\r\n         if(res.status  ===204 ){\r\n\r\n   await currentUserAPI({setCurrentUser,token})\r\n    return \r\n    }\r\n\r\n\r\n      } catch (err) { console.log(err)}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\nexport default deleteOrderAPI","import styled  from 'styled-components'\r\nimport {Link} from 'react-router-dom'\r\nimport useMyOrdersPage from '../../hooks/useMyOrdersPage'\r\nimport {ButtonPrimary} from '../Buttons'\r\nimport {SectionTitle,ButtonsWrapper} from '../menu/Menu'\r\nimport refreshIcone from '../../img/refresh.svg'\r\n\r\n\r\n\r\n\r\nconst Page = styled.main`\r\n    padding: 65px 0;\r\nmin-height:100vh;\r\nwidth:100%;\r\nmargin: 0 auto;\r\ntext-align:center;\r\nbackground:${props => props.theme.lightYellow};\r\n\r\n`;\r\nexport const TableHead = styled.thead`\r\nbackground-color: ${props => props.theme.black};\r\ncolor: ${props => props.theme.darckYellow};\r\n& > tr th {\r\n   padding: 10px 0;\r\n       font-family: \"Oswald\", sans-serif;\r\n       font-size:19px;\r\n}\r\n`;\r\nexport const OrdersTable = styled.table`\r\n    width: 100%;\r\nmax-width:900px;\r\nmargin: 20px auto 30px;\r\n    border-spacing: 10px;\r\n    border-collapse: collapse;\r\n    border: 2px solid ${props => props.theme.black};\r\n        box-shadow: ${props => props.theme.lihgtBoxShadow};\r\n        text-transform: capitalize;\r\n&> tbody{\r\n  background:#fff;\r\n}\r\n& > tbody td small {\r\n       margin-right: 5px;\r\n}\r\n& >tbody td {\r\n  padding: 10px 0;\r\n  cursor:pointer;\r\n}\r\n& > tbody tr {\r\n      border-bottom: 1px solid;\r\n}\r\n@media screen and (max-width: 750px){\r\n   max-width: 400px;\r\n  & > ${TableHead}{\r\n  display: none;\r\n    max-width: 400px;\r\n}\r\n& tbody tr {\r\ndisplay: flex;\r\n  flex-direction: column;\r\n}\r\n& >  tbody tr td {\r\n      display: flex;\r\n    padding: 5px 15px;\r\n    text-align: right;\r\n}\r\n& >  tbody tr td:first-child {\r\n  color:#fff;\r\n  padding: 10px 15px;\r\nbackground-color: ${props => props.theme.black};\r\n}\r\n& >  tbody tr td:first-child:before {\r\ncontent:\"Nº de Pedido\";\r\n    color: ${props => props.theme.darckYellow};\r\n}\r\n& >  tbody tr td:nth-child(3):before {\r\ncontent:\"Dirección\";\r\n}\r\n& >  tbody tr td:nth-child(2):before {\r\ncontent:\"Fecha\";\r\n}\r\n& >  tbody tr td:nth-child(5):before {\r\ncontent:\"Estado\";\r\n}\r\n& >  tbody tr td:nth-child(4):before {\r\ncontent:\"Total\";\r\n}\r\n& >  tbody tr td:nth-child(6):before {\r\ncontent:\"Acciones\";\r\n}\r\n& >tbody tr td:before{\r\n      margin-right: auto;\r\n    font-family: \"Oswald\", sans-serif;\r\n    font-size: 16px;\r\n    align-self: center;\r\npadding-rigth:5px;\r\n}\r\n}\r\n`\r\n\r\nconst CancelOrderButton = styled.button`\r\npadding:  8px 5px;\r\ncursor:pointer;\r\noutline:none;\r\nmargin: 5px ;\r\n    border-radius: 10px 5px;\r\nborder: none;\r\nfont-family: \"Oswald\", sans-serif;\r\ntransition:all 0.5s ;\r\nopacity:${((props) => (props.disabled ? \"0.4\" : \"1\"))};\r\n&:hover {\r\nbackground:${((props) => (props.disabled ? \"unset\" : \"#cdc8c8\"))};\r\n}\r\n`\r\nconst NotFounMessage = styled.div`\r\npadding: 30px 0;\r\n& >h3{\r\nmargin-bottom:40px;\r\n}\r\n@media screen and (max-width:450px){\r\n  font-size: 25px;\r\n}\r\n& > ${ButtonPrimary} {\r\n      padding: 15px 30px;\r\n}\r\n`;\r\nconst NotFounIcone = styled.h2`\r\nfont-size:50px;\r\n`;\r\nexport const RefreshButton = styled.div` \r\ncursor:pointer;\r\npadding:0 10px;\r\nalign-items: center;\r\n    border-radius: 5px;\r\n    height: 40px;\r\n      box-shadow: ${props => props.theme.lihgtBoxShadow};\r\n    background:${props => props.theme.black};\r\n\r\n    margin: -40px 0 10px auto;\r\n    width: max-content;\r\ndisplay: flex;\r\n    transform: scale(0.7);\r\n    transition: all 0.3s ease;\r\n&:hover{\r\n  transform:scale(0.75);\r\n}\r\n`\r\n\r\n\r\nexport const RefreshIcone = styled.img`\r\nheight: 50%;\r\ncursor:pointer;\r\n`;\r\n\r\n\r\nexport default function MyOrders(){\r\n\r\n\r\n\r\nconst {page,setPage,maxPage,orders,deleteOrder,seeDetails,handelRefresh} = useMyOrdersPage()\r\n\r\n  return(\r\n<Page>\r\n\r\n  <SectionTitle light>Mis Pedidos</SectionTitle>\r\n  \r\n<RefreshButton onClick={handelRefresh}>\r\n  <RefreshIcone   src={refreshIcone} title='Refrescar Página'/>\r\n  </RefreshButton>\r\n\r\n  { (orders?.length > 0 )?\r\n<OrdersTable>\r\n  <TableHead>\r\n    <tr>\r\n    <th>Nº de Pedido</th>\r\n         <th>Fecha</th>\r\n        <th>Dirección</th>\r\n            <th>Total</th>\r\n            <th>Estado</th>\r\n            <th >Acciones</th>\r\n            </tr>\r\n  </TableHead>\r\n  <tbody>\r\n    {orders?.map(order => \r\n\r\n    <tr key={order?._id} onClick={(e) => seeDetails(order?.orderID)}>\r\n    <td>{order?.orderID}</td>\r\n        <td>\r\n  \r\n          <small>{new Date(order?.states[0].date).toLocaleString()?.split(\" \")[0]}</small>\r\n          <br></br>\r\n            <small>{new Date(order?.states[0].date).toLocaleString()?.split(\" \")[1]}</small>\r\n</td>\r\n        <td>{order.client[0].address}</td>\r\n        <td>${order?.total}</td>\r\n        <td> <b>{[...order?.states].reverse().find(state => state.confirmed ===true).name}</b></td>\r\n\r\n         <td  >\r\n                    <CancelOrderButton disabled={(order?.states[1].confirmed === true) ? true : false} onClick={ (e) => deleteOrder(e,order._id)}>\r\nCancelar Pedido\r\n                    </CancelOrderButton>\r\n           </td>\r\n        </tr>\r\n\r\n    )}\r\n\r\n  </tbody>\r\n \r\n</OrdersTable> \r\n:\r\n<NotFounMessage>\r\n        <NotFounIcone >👩🏻&zwj;🍳</NotFounIcone>\r\n        <h3>Ningún pedido realizado, tienes hambre?</h3>\r\n\r\n      <ButtonPrimary small as={Link} to=\"/menu\">Ver Menú</ButtonPrimary>\r\n    </NotFounMessage>\r\n\r\n}\r\n\r\n<ButtonsWrapper>\r\n{\r\n(page > 1) ?  <button onClick={(e) => setPage(page -1)} >\r\n{'<< '}Prev</button> : null\r\n}\r\n{\r\n(page < maxPage) ?  <button onClick={(e) => setPage(page + 1)} >\r\nNext{' >>'}</button> : null\r\n}\r\n</ButtonsWrapper>\r\n</Page>\r\n  )\r\n}","import {useHistory} from 'react-router-dom'\r\nimport {  useState,useEffect} from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\nimport deleteOrderAPI from '../API/deleteOrderAPI'\r\nimport currentUserAPI from '../API/currentUserAPI'\r\n\r\n\r\n\r\nexport default function useMyOrdersPage(){\r\n\r\n    const {currentUser,token,setCurrentUser,setIsLoading}= useStorage()\r\n    \r\n  const history = useHistory()\r\n\r\n    let limit = 5\r\n    const [page, setPage] = useState(1)\r\n    const [maxPage, setMaxPage] = useState(1)\r\n     const [orders,setOrders] = useState([])\r\n\r\nlet userOrders =[...currentUser?.orders].sort((a, b)=>{\r\n    return    b.createdAt -a.createdAt\r\n});\r\nuseEffect(() => {\r\nsetMaxPage(Math.ceil(userOrders.length/limit))\r\n\r\n setOrders(userOrders.splice( (page-1)*limit  , ((page-1)*limit)+limit))\r\n\r\n},[page,limit,currentUser])\r\n\r\n\r\nconst deleteOrder = (e,id) =>{\r\n e.stopPropagation();\r\nif (!e.target.disabled ) return deleteOrderAPI({token,id,setCurrentUser})\r\n}\r\nconst seeDetails = (orderID) =>{\r\n return history.push(`/myAccount/myOrders/${orderID}` )\r\n}\r\n\r\nconst handelRefresh = () =>{\r\n  setIsLoading(true)\r\n  currentUserAPI({token,setCurrentUser})\r\n\r\n}\r\nuseEffect(()=>{\r\n setIsLoading(false)\r\n},[currentUser])\r\n\r\nreturn {page,setPage,maxPage,orders,deleteOrder,seeDetails,handelRefresh}\r\n}","\r\nimport {Option,OptionList} from './SortProductsOptions'\r\n\r\nexport default function FilterOrdersStateOptions({setStatePreferece,setPage}){\r\n\r\n  const handelChange = (e) =>{\r\n e.preventDefault()\r\n     setPage(1)\r\n setStatePreferece(e.target.value)\r\n}\r\n\r\nreturn(\r\n<OptionList name=\"filterOrdersByState\" onChange={(e) =>handelChange(e)}>\r\n<Option value=\"all\" >Todos</Option>\r\n<Option value=\"finish\" >Liquidados</Option>\r\n<Option value=\"unfinish\" >Pendientes</Option>\r\n</OptionList>\r\n\r\n);\r\n\r\n} ","\r\nimport {Option,OptionList} from './SortProductsOptions'\r\n\r\nexport default function SortOrdersOptions({setSortPreferece}){\r\n\r\n\r\nreturn(\r\n<OptionList name=\"sortProductBy\" onChange={(e) => setSortPreferece(e.target.value)}>\r\n<Option value=\"-createdAt\" >Más recientes</Option>\r\n<Option value=\"createdAt\" >Más antiguos</Option>\r\n<Option value=\"total\" >Menor Monto</Option>\r\n<Option value=\"-total\">Mayor Monto</Option>\r\n\r\n</OptionList>\r\n\r\n);\r\n\r\n} ","import styled  from 'styled-components'\r\nimport useDashboardOrders from '../../hooks/useDashboardOrders'\r\nimport DashboardNav from '../DashboardNav'\r\nimport refreshIcone from '../../img/refresh.svg'\r\nimport SearchBar from '../MenuSearchBar'\r\nimport {RefreshButton,RefreshIcone} from '../account/MyOrdersPage'\r\nimport {LoaderSpinner} from './../LoaderSpinner'\r\nimport {ButtonsWrapper,NotFaundMessage,SectionTitle} from '../menu/Menu'\r\nimport {FiltersBoard} from './DashboardProducts'\r\nimport FilterOrderStateOptions from './../FilterOrderStateOptions'\r\nimport SortOrdersOptions from './../SortOrdersOptions'\r\n\r\nexport const Page = styled.section`\r\n    padding: 60px 0;\r\nmin-height:100vh;\r\nwidth:100%;\r\nmax-width: 1250px;\r\nmargin: 0 auto;\r\ntext-align:center;\r\n  &:before{\r\n    display: ${props => props.isLoading ? 'block' : 'none'};\r\n      position:absolute;\r\n      content:\" \";\r\n      top:0;\r\n      left:0;\r\n    right:0;\r\n    bottom:0;\r\n    background:#ffffff57;\r\n    z-index:400;\r\n    }\r\n       & >${LoaderSpinner} {\r\n  position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 500;\r\n    margin: -60px 0  0 -60px ;\r\n \r\n}\r\n& > ${NotFaundMessage} {\r\n  padding: 0 5px;\r\n}\r\n\r\n`;\r\nexport const TableHead = styled.thead`\r\nbackground-color: #171717;\r\ncolor: #fcba1c;\r\n& >tr th {\r\n   padding: 10px 0;\r\n       font-family: \"Oswald\", sans-serif;\r\n       font-size:19px;\r\n}\r\n`;\r\nexport const OrdersTable = styled.table`\r\n    width: 100%;\r\nmax-width:900px;\r\nmargin: 20px auto 40px;\r\n    border-spacing: 10px;\r\n    border-collapse: collapse;\r\n    border: 2px solid #171717;\r\n        text-transform: capitalize;\r\n\r\n&> tbody{\r\n  background:#fff;\r\n}\r\n\r\n& >tbody tr td {\r\n  padding: 10px 0;\r\n  cursor:pointer;\r\n\r\n}\r\n& >tbody tr {\r\n \r\n  border-bottom: 1px solid ;\r\n}\r\n& >tbody tr td small {\r\n  margin-left:   5px ;\r\n\r\n}\r\n@media screen and (max-width: 750px){\r\n\r\n    max-width: 400px;\r\n\r\n  & > ${TableHead}{\r\n  display: none;\r\n  max-width: 400px;\r\n}\r\n& tbody tr {\r\ndisplay: flex;\r\n  flex-direction: column;\r\n}\r\n& >  tbody tr td {\r\n      display: flex;\r\n    padding: 5px 15px;\r\n    text-align: right;\r\n}\r\n& >  tbody tr td:first-child {\r\n  color:#fff;\r\n  padding: 10px 15px;\r\nbackground-color: #171717;\r\n}\r\n& >  tbody tr td:first-child:before {\r\ncontent:\"Nº de Pedido\";\r\n    color: #fcba1c;\r\n}\r\n& >  tbody tr td:nth-child(2):before {\r\ncontent:\"Dirección\";\r\n}\r\n& >  tbody tr td:nth-child(3):before {\r\ncontent:\"Fecha\";\r\n}\r\n& >  tbody tr td:nth-child(5):before {\r\ncontent:\"Estado\";\r\n}\r\n& >  tbody tr td:nth-child(4):before {\r\ncontent:\"Total\";\r\n}\r\n& >tbody tr td:before{\r\n      margin-right: auto;\r\n    font-family: \"Oswald\", sans-serif;\r\n    font-size: 16px;\r\n    align-self: center;\r\n\r\n}\r\n\r\n\r\n}\r\n`\r\nexport default function DashboardOrders(){\r\n \r\n\r\n\r\n\r\nconst {seeDetails,handleRefresh,setOrderID,setSorting,setPage,setState,page,isLoading,maxPage,orders,sorting,isFirstRender} = useDashboardOrders()\r\n\r\n\r\n  return(\r\n<Page  isLoading={isLoading}>\r\n     <DashboardNav/>\r\n     <SectionTitle>Pedidos</SectionTitle>\r\n     <RefreshButton onClick={(e) =>handleRefresh()}>\r\n  <RefreshIcone src={refreshIcone} title='Refrescar Página'/>\r\n  </RefreshButton>\r\n<SearchBar placeholder='Número de orden...' setSearch={setOrderID} />\r\n<FiltersBoard>\r\n          <FilterOrderStateOptions setPage={setPage} setStatePreferece={setState}/>\r\n          <SortOrdersOptions setSortPreferece={setSorting} sortPreference={sorting} />\r\n        </FiltersBoard>\r\n\r\n  {isLoading ? <LoaderSpinner /> :  null }\r\n  {   ( (!isLoading) && (!isFirstRender)  &&  orders?.length === 0) ?\r\n  \r\n  <NotFaundMessage>No se han encontrado coincidencias, intenta de nuevo!!</NotFaundMessage>\r\n\r\n  :\r\n\r\n<OrdersTable>\r\n  <TableHead>\r\n    <tr>\r\n    <th>Nº de Pedido</th>\r\n         <th>Fecha</th>\r\n        <th>Dirección</th>\r\n            <th>Total</th>\r\n            <th>Estado</th>\r\n    </tr>\r\n  </TableHead>\r\n  <tbody>\r\n{orders?.map(order => \r\n    <tr key={order?.orderID}   onClick={ (e) => seeDetails(order?._id)}>\r\n    <td>{order?.orderID}</td>\r\n        <td>\r\n          <small>{new Date(order.states[0].date).toLocaleString().split(\" \")[0]}</small>\r\n              <br></br>\r\n            <small>{new Date(order.states[0].date).toLocaleString().split(\" \")[1]}</small>\r\n</td>\r\n        <td>{order?.client[0].address}</td>\r\n        <td>${order?.total}</td>\r\n        <td> <b>{[...order?.states].reverse().find(state => state.confirmed ===true).name}</b></td>\r\n\r\n</tr>\r\n  \r\n  \r\n  )}\r\n      \r\n  </tbody>\r\n \r\n</OrdersTable> }\r\n\r\n\r\n<ButtonsWrapper>\r\n{\r\n(page > 1) ?  <button onClick={(e) => setPage(page -1)} >\r\n{'<< '}Prev</button> : null\r\n}\r\n{\r\n(page < maxPage) ?  <button onClick={(e) => setPage(page + 1)} >\r\nNext{' >>'}</button> : null\r\n}\r\n</ButtonsWrapper>\r\n\r\n</Page>\r\n  )\r\n}","import {useHistory,useLocation} from 'react-router-dom'\r\n\r\nimport {useState, useEffect } from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\nexport default function useDashboardOrders(){\r\nconst history = useHistory()\r\nconst location = useLocation()\r\n\r\n  \r\nconst {token,setIsLoading} = useStorage()\r\n\r\n\r\nconst seeDetails = (orderID) =>{\r\n      setIsLoading(true)\r\n history.push(`/dashboard/orders/${orderID}` )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  let query = new URLSearchParams();\r\n\r\n    let sizeLimit = 5\r\n\r\n\r\n\r\n  const [orderID, setOrderID] = useState(\"\")\r\n  const[isLoading,setIsLoadingPage] = useState(false)\r\n    const [page, setPage] = useState(1)\r\n    const [maxPage, setMaxPage] = useState(1)\r\n    const [orders, setOrders] = useState([])\r\n    const [state,setState] =useState('all')\r\n  const [sorting, setSorting] = useState(\"-createdAt\")\r\nconst [isFirstRender, setIsFirstRender] = useState(true)\r\nconst [isRefreshing, setIsRefreshing] = useState(false)\r\n   query.append('page',page)\r\n   query.append('limit',sizeLimit)\r\n   query.append('sort',sorting)\r\n\r\n  \r\n\r\n\r\nuseEffect(() => {\r\n  const controller = new AbortController()\r\n const signal = controller.signal\r\n \r\nconst productsAPI = async () =>{\r\n\r\n    setIsLoadingPage(true)\r\n\r\n  try{\r\n\r\n      if( isFirstRender && location.search !==\"\"){\r\n\r\n        query=location.search.split('?')[1]\r\n        \r\n        setIsFirstRender(false)\r\n      }\r\n\r\n   if(orderID !==\"\"){ \r\n query.append('orderID',orderID)\r\n\r\nsetPage(1)\r\nsetState('all')\r\n\r\n\r\n     \r\n    }\r\n\r\n    if(state !==\"all\"){\r\n\r\nquery.append('state',state)\r\n\r\n    }\r\n\r\n       const headers = new Headers();\r\n      headers.append('Accept', 'application/json');\r\n      headers.append('Authorization', `Bearer ${token}`);\r\n\r\n\r\n    const setting = {\r\n          method: 'GET',\r\n          headers: headers,\r\nsignal,\r\n        }\r\n\r\n     let res = await fetch(`/api/orders?${query}`,setting)\r\n     let json = await res.json()\r\n\r\n    setOrders(json.data)\r\n\r\n    let total = parseInt(json.total)\r\n\r\n     setMaxPage(Math.ceil(total/sizeLimit))\r\n\r\n  history.push(`/dashboard/orders?${query}`)\r\n\r\ndocument.querySelector('body').scrollTo(0,100)\r\n     setIsLoadingPage(false)\r\n  }catch(err){\r\n    if(err.name === 'AbortError'){\r\n   console.log('Fetch Canseled: caught abort')\r\n }else{\r\n\r\n     console.log(err)\r\n\r\n  }\r\n}\r\n  }\r\n\r\n  productsAPI()\r\n \r\n     return () =>{\r\n     controller.abort()\r\n   }   \r\n }, [orderID,state,page,sorting,isRefreshing])\r\n\r\n\r\n const handleRefresh = () =>{\r\n  setIsRefreshing(!isRefreshing)\r\n}\r\n\r\n\r\nreturn {seeDetails,handleRefresh,setOrderID,setSorting,setState,setPage,page,isLoading,maxPage,orders,sorting,isFirstRender}\r\n\r\n\r\n}"],"sourceRoot":""}