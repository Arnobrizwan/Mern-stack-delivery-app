{"version":3,"sources":["API/upldateProfileAPI.js","img/user-edit-solid.svg","components/account/EditMyProfile.js","hooks/useEditProfileForm.js","components/product_details/ProductDetails.js","hooks/useProductDetails.js","API/usersAPI.js"],"names":["a","setFormIsLoading","setIsSuccessfullySend","setServerError","info","isAdmin","setAllUsers","token","setCurrentUser","history","id","localStorage","getItem","headers","Headers","append","setting","method","body","JSON","stringify","fetch","res","json","status","usersAPI","currentUserAPI","setTimeout","push","message","console","log","UploadProfileAPI","EditProfilePage","styled","section","EditProfileForm","form","OptionList","InputWrapper","div","FormIcone","img","GoToProfileLink","GoBackLink","NewPasswordCheckbox","setIsChangingPassword","value","htmlFor","onChange","e","type","name","CellphoneInput","register","errors","placeholder","userNumber","role","ref","required","minLength","maxLength","pattern","style","borderColor","CityAddressOptions","StreetAddressInput","userStreetAddress","StreetNumberInput","userStreetNumber","EditMyProfile","useStorage","useState","serverError","isChangingPassword","formIsLoading","useHistory","useForm","mode","data","preventDefault","target","userName","toLowerCase","lastName","userLastName","city","userCityAddress","street","password","userPassword","newPassword","userNewPassword","number","streetNumber","upldateProfileAPI","handleSubmit","formState","onSubmit","useEditProfileForm","to","novalidate","src","userEditIcone","alt","LoaderSpinner","small","bounceLeft","keyframes","StyledLink","ProductDetails","PrductImg","ImageWrapper","props","isLoaded","defaultImage","Name","h2","Line","Deltail","dd","Leyend","dt","theme","darckYellow","Description","ProductDetailsPage","setIsLoading","cartProducts","location","useLocation","goBackPath","URLSearchParams","search","get","setIsLoaded","thisProductInfo","setThisProductInf","productId","useParams","useEffect","controller","AbortController","signal","fechProducts","i","abort","isInShoppingCart","find","product","_id","useProductDetails","onLoad","AddToCartButton","category","size","price","description","getUsers"],"mappings":"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","file":"static/js/18.aa83b91c.chunk.js","sourcesContent":["import currentUserAPI from './currentUserAPI'\r\nimport usersAPI from './usersAPI'\r\n\r\nasync function UploadProfileAPI({\r\n  setFormIsLoading,\r\nsetIsSuccessfullySend,\r\nsetServerError,\r\ninfo,\r\nisAdmin,\r\nsetAllUsers,\r\ntoken,\r\nsetCurrentUser,\r\nhistory,\r\n}){\r\n  try{\r\n  setFormIsLoading(true)\r\n   setServerError(\"\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const id = localStorage.getItem('userId');\r\n\r\n\r\n\r\n     const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\nheaders.append('Content-Type', 'application/json');\r\n      headers.append('Authorization', `Bearer ${token}`);\r\n\r\n        const setting = {\r\n          method: 'PUT',\r\n          headers: headers,\r\n          body: JSON.stringify(info),\r\n        }\r\n\r\n\r\n\r\n        let res = await fetch(`/api/users/me/${id}`, setting);\r\n            let  json = await res.json()\r\n\r\nsetFormIsLoading(false)\r\n\r\n         if(res.status === 200) {\r\n        \r\n\r\n         (isAdmin) && await usersAPI({token,setAllUsers})\r\n\r\n       await currentUserAPI({token,setCurrentUser})\r\n\r\n         setIsSuccessfullySend(true);\r\n         setTimeout(() => {\r\n\r\n                  setIsSuccessfullySend(false)\r\n\r\n                    history.push(\"/myAccount/myProfile\")\r\n         }, 3000);\r\n\r\n     return\r\n      }\r\n      \r\n  const {message} = json\r\n        console.log(message)\r\n\r\n\r\n \r\n\r\n      setServerError(message)\r\n      \r\n}catch(err){\r\n\r\n  console.log(err)\r\n}\r\n\r\n\r\n\r\n}\r\n\r\nexport default UploadProfileAPI","export default __webpack_public_path__ + \"static/media/user-edit-solid.3b6cccdd.svg\";","import styled from 'styled-components'\r\nimport {Fragment} from 'react' \r\nimport useEditProfileForm from '../../hooks/useEditProfileForm'\r\nimport {LoaderSpinner} from './../LoaderSpinner'\r\nimport {ErrorMessage} from '../contact/ContactForm';\r\nimport {UserNameInput,UserLastNameInput,UserPasswordInput,UserNewPasswordInput,ErrorServerMessage} from '../auth/SingupForm'\r\nimport {OptionList,Option,CheckboxWrapper} from '../dashboard/CreateNewProductForm'\r\nimport {FormButtons } from '../dashboard/CreateNewProductForm'\r\nimport {TextInput } from '../contact/ContactForm';\r\nimport {GoBackLink} from '../product_details/ProductDetails'\r\nimport userEditIcone from '../../img/user-edit-solid.svg'\r\n\r\nconst EditProfilePage = styled.section`\r\n    min-height:100vh;\r\nwidth:100vw;\r\npadding: 60px 0px;\r\n\r\n`\r\nconst EditProfileForm = styled.form`\r\n\r\n  max-width:400px;\r\n  width:100%;\r\n      padding: 10px 25px 40px;\r\n    border-radius: 10px;\r\n    background: #fff;\r\nmargin: 50px auto;\r\ndisplay:flex;\r\nflex-flow:column;\r\nalign-items:center;\r\n& > input {\r\n  border:none;\r\n  background: #f0f0f0;\r\n}\r\n&> label {\r\n  margin: 0 auto 20px\r\n}\r\n&> small {\r\nmargin: -10px auto 4px 0;\r\n}\r\n& >${OptionList} {\r\n  min-width: 100%\r\n}\r\n\r\n& > input:focus {\r\n  outline: 2px solid #ccc;\r\n    outline-style: auto;\r\n}\r\n  `\r\n\r\n  const InputWrapper = styled.div`\r\n  margin-top:-15px;\r\n  & > label{\r\nfont-size:16px;\r\n  }\r\n\r\n  `;\r\nconst FormIcone = styled.img`\r\nwidth:120px;\r\nmargin: 0 auto;\r\nmargin-bottom:20px;\r\nmargin-top:-20px;\r\n`\r\nconst GoToProfileLink = styled(GoBackLink)`\r\nmargin-left: 15px;\r\n&:before{\r\n      content: \"<-- \";\r\n    margin-right: 3px;\r\n}\r\n`\r\n\r\n\r\nfunction NewPasswordCheckbox({setIsChangingPassword,value}){\r\n\r\n\r\n   return(\r\n          <CheckboxWrapper >\r\n<label htmlFor=\"newPasswordCheckbox\">Cambiar contraseña:</label>\r\n<input\r\nonChange={(e) =>{setIsChangingPassword(!value)}}\r\nid=\"newPasswordCheckbox\" type=\"checkbox\" name=\"newPasswordCheckbox\" />\r\n          </CheckboxWrapper>\r\n    )\r\n  }\r\nfunction CellphoneInput({register,errors,placeholder}) {\r\n  \r\n  return(\r\n<Fragment>\r\n    {errors.userNumber && <ErrorMessage  role=\"alert\">{errors.userNumber.message}</ErrorMessage>}\r\n\r\n<TextInput\r\nplaceholder={placeholder}\r\n name=\"userNumber\"\r\n type='text'\r\n          ref={register({\r\n              required: '*El campo es requrido',\r\n                  minLength: {\r\n            value: 9,\r\n            message: \"*Teléfono Invalido\"\r\n                                      },\r\n           maxLength: {\r\n            value: 10,\r\n            message: \"*Teléfono Invalido\"\r\n                                      },                                      \r\n                     pattern: {\r\n            value: /[0-9]/,\r\n            message: \"*Solo se aceptan números\"\r\n          } \r\n          })}\r\n           style={{ borderColor: errors.userNumber && \"#bf0000\" }}/>\r\n</Fragment>\r\n  )\r\n} \r\nfunction CityAddressOptions({register}){\r\n  return(\r\n   <OptionList name=\"userCityAddress\"\r\n   ref={register({\r\n\r\n           required: '*El campo es requrido',\r\n        \r\n          })}\r\n   \r\n   >\r\n<Option value=\"Córdoba\" >Córdoba</Option>\r\n<Option value=\"Buenos Aires\" >Buenos Aires</Option>\r\n</OptionList>\r\n  );\r\n}\r\nfunction StreetAddressInput({errors,placeholder,register}) {\r\n  \r\n  return(\r\n<Fragment>\r\n    {errors.userStreetAddress && <ErrorMessage  role=\"alert\">{errors.userStreetAddress.message}</ErrorMessage>}\r\n\r\n<TextInput\r\nplaceholder={placeholder}\r\n name=\"userStreetAddress\" \r\n          ref={register({\r\n           required: '*El campo es requrido',\r\n        \r\n          })}\r\n           style={{ borderColor: errors.userStreetAddress && \"#bf0000\" }}/>\r\n</Fragment>\r\n  )\r\n} \r\nfunction StreetNumberInput({errors,placeholder,register}) {\r\n  \r\n  return(\r\n<Fragment>\r\n    {errors.userStreetNumber && <ErrorMessage  role=\"alert\">{errors.userStreetNumber.message}</ErrorMessage>}\r\n\r\n<TextInput\r\nplaceholder={placeholder}\r\n name=\"userStreetNumber\" \r\n          ref={register({\r\n    required: '*El campo es requrido',\r\n            \r\n           maxLength: {\r\n            value: 4,\r\n            message: \"*Número Invalido\"\r\n                                      },                                      \r\n                     pattern: {\r\n            value: /[0-9]/,\r\n            message: \"*Solo se aceptan números\"\r\n          } \r\n          })}\r\n           style={{ borderColor: errors.userStreetNumber && \"#bf0000\" }}/>\r\n</Fragment>\r\n  )\r\n} \r\nexport default function EditMyProfile() {\r\n  \r\n\r\n\r\nconst { register,handleSubmit,errors,onSubmit ,serverError,formIsLoading,isChangingPassword,setIsChangingPassword} = useEditProfileForm()\r\n\r\n  return(\r\n<EditProfilePage>\r\n\r\n  \r\n    <GoToProfileLink to=\"/myAccount/myProfile\" >Regresar</GoToProfileLink>\r\n  \r\n\r\n  <EditProfileForm onSubmit={handleSubmit(onSubmit)} novalidate>\r\n\r\n    <FormIcone src={userEditIcone} alt=\"edit-profile\"/>\r\n<UserNameInput  errors={errors} register={register}/>\r\n   <UserLastNameInput  errors={errors} register={register}/>\r\n  \r\n     \r\n \r\n               <CellphoneInput  errors={errors} register={register}  placeholder=\"Tu telèfono...\"/>\r\n\r\n<CityAddressOptions register={register} />\r\n\r\n         <StreetAddressInput  errors={errors} register={register} placeholder=\"Calle...\"/>\r\n\r\n         <StreetNumberInput  errors={errors} register={register} placeholder=\"Número de puerta...\"/>\r\n <InputWrapper >\r\n   <NewPasswordCheckbox setIsChangingPassword ={setIsChangingPassword} value={isChangingPassword} />\r\n   </InputWrapper>\r\n\r\n   {isChangingPassword ? \r\n\r\n<Fragment>\r\n<UserPasswordInput  errors={errors}  register={register} name=\"userPassword\" placeholder=\"Tu contraseña...\"/>\r\n     <UserNewPasswordInput  errors={errors}   register={register} name=\"newPassword\" placeholder=\"Nueva contraseña...\"/>\r\n</Fragment>\r\n: null\r\n}\r\n     \r\n\r\n       \r\n   {formIsLoading ?  <LoaderSpinner small /> :\r\n\r\n         <ErrorServerMessage>{serverError}</ErrorServerMessage>\r\n      \r\n  }\r\n  \r\n          <FormButtons small/>\r\n  </EditProfileForm>\r\n\r\n</EditProfilePage>\r\n\r\n  );\r\n\r\n  \r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useState} from 'react' \r\nimport {useStorage} from '../context/useStorage'\r\nimport upldateProfileAPI from '../API/upldateProfileAPI'\r\n\r\n\r\n\r\nexport default function useEditProfileForm(){\r\n  \r\n  const {token,setCurrentUser,setAllUsers,isAdmin,setIsSuccessfullySend} = useStorage()\r\n  \r\n  const [serverError,setServerError] = useState(\"\");\r\n    const [isChangingPassword,setIsChangingPassword] = useState(false);\r\nconst [formIsLoading,setFormIsLoading] = useState(false);\r\n\r\n   const history = useHistory()\r\n\r\n    const { register, handleSubmit, formState: { errors } }= useForm({\r\n  mode: \"onBlur\",\r\n});\r\n\r\nasync function onSubmit(data,e) {\r\n\r\n e.preventDefault()\r\n\r\n \r\nconst name =  e?.target?.userName?.value?.toLowerCase(),\r\n lastName =  e?.target?.userLastName?.value?.toLowerCase(),\r\ncity = e.target.userCityAddress?.value?.toLowerCase(),\r\nstreet = e.target.userStreetAddress?.value?.toLowerCase();\r\n\r\nconst info ={\r\nname,\r\nlastName,\r\npassword:e?.target?.userPassword?.value || null,\r\nnewPassword:e?.target?.userNewPassword?.value || null,\r\nnumber:e.target.userNumber?.value,\r\ncity,\r\nstreet,\r\nstreetNumber: e.target.userStreetNumber?.value\r\n}\r\n await upldateProfileAPI({\r\n  setFormIsLoading,\r\nsetIsSuccessfullySend,\r\nsetServerError,\r\ninfo,\r\nisAdmin,\r\nsetAllUsers,\r\ntoken,\r\nsetCurrentUser,\r\nhistory,\r\n})\r\n\r\n\r\n  }\r\n  \r\n\r\n\r\n  return {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    onSubmit ,\r\n    serverError,\r\nformIsLoading,\r\nisChangingPassword,\r\nsetIsChangingPassword\r\n} \r\n\r\n  \r\n}","import styled, {keyframes}  from 'styled-components'\r\nimport useProductDetails from '../../hooks/useProductDetails'\r\nimport {StyledLink } from '../Header'\r\nimport defaultImage from '../../img/default-image.png';\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\nexport const bounceLeft = keyframes `\r\n  0% { left:15px;}\r\n  50% { left:20px;}\r\n   100% { left:15px;}\r\n`\r\nexport const GoBackLink = styled(StyledLink)`\r\nposition:absolute;\r\nleft:15px;\r\nmargin: 0 ;\r\nfont-size:15px;\r\npadding: 10px 0;\r\nz-index:800;\r\n  animation: ${bounceLeft} 1.2s linear infinite;\r\n&:before{\r\n  content : \"<-- \";\r\n  margin-right:3px;\r\n}\r\n`;\r\nconst ProductDetails = styled.section`\r\n    width: 90vw;\r\n    padding: 60px 15px 20px;\r\n    margin: 0px auto;\r\n    display: flex;\r\n  height: 100%;\r\nmax-height: 800px;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n@media screen and (min-width:550px){\r\n width:70vw;\r\n}\r\n@media screen and (min-width:850px){\r\n width:50vw;\r\n}\r\n@media screen and (min-width:850px){\r\n width:50vw;\r\n}\r\n@media screen and (min-width:1200px){\r\n    width: 70vw;\r\n    height: 100%;\r\n    max-height: 800px;\r\n}\r\n& >button {\r\ntransform:scale(0.8);\r\nmargin-top:-45px;\r\nmargin-bottom:10px;\r\n@media screen and (min-width:600px){\r\nmargin-top:-50px;\r\ntransform:scale(1);\r\n}\r\n`\r\nconst PrductImg = styled.img`\r\nposition:relative;\r\nleft:50%;\r\ntransform:translate(-50%, 0);\r\n   height: 100%;\r\n    max-width: 90%;\r\n    max-height: 250px;\r\n@media screen and (min-width:500px){\r\n max-height: 350px;\r\nmax-width: 350px;\r\n}\r\n`;\r\nconst ImageWrapper =styled.div`\r\npadding-top:40px;\r\n    min-height: 300px;\r\n  background-image: ${props => props.isLoaded ? 'none' : `url(${defaultImage})`};\r\n      background-repeat: no-repeat;\r\n    background-size: 100% auto;\r\n    backface-visibility: hidden;\r\n    background-position: center;\r\n   @media screen and (min-width:400px){\r\nbackground-size: auto 100%;\r\n    }\r\n`;\r\nconst Name =styled.h2`\r\nmargin: 10px 0 ;\r\nletter-spasing:0;\r\nline-height:35px;\r\nmax-width:200px;\r\nfont-size:30px;\r\ntext-transform:capitalize ;\r\n@media screen and (min-width:600px){\r\n  font-size:35px;\r\n  margin-bottom: 20px;\r\n  max-width:100%;\r\n}\r\n`\r\nconst Line = styled.div`\r\n\r\nwidth:100%;\r\nheight:1px;\r\nbackground:#fcaf01;\r\nmargin:5px auto;\r\n`\r\n;\r\n\r\n\r\n\r\nconst Deltail = styled.dd`\r\nline-height:25px;\r\ntext-transform:capitalize ;\r\n`;\r\nconst Leyend= styled.dt`\r\ncolor: ${props => props.theme.darckYellow};\r\nline-height:25px;\r\ntext-transform:capitalize ;\r\n    float: left;\r\n`;\r\nconst Description = styled(Deltail)`\r\ntext-transform:none;\r\n\r\n` \r\nfunction ProductDetailsPage(){\r\n\r\n\r\n\r\n\r\nconst {isInShoppingCart,isLoaded,thisProductInfo,goBackPath,setIsLoaded} = useProductDetails()\r\n\r\n\r\n  return(\r\n\r\n      \r\n<ProductDetails >\r\n    \r\n             <GoBackLink to={goBackPath} > Regresar</GoBackLink>\r\n<ImageWrapper  isLoaded={isLoaded}>\r\n  <PrductImg src={thisProductInfo?.img}  alt={thisProductInfo?.name} onLoad={()=> setIsLoaded(true)} />\r\n  </ImageWrapper>\r\n    <Line/>\r\n  <Name>{thisProductInfo?.name}</Name>\r\n  {(!isInShoppingCart) ? \r\n   <AddToCartButton thisProductInfo={thisProductInfo}/>\r\n        : null\r\n}\r\n    <Line/>\r\n    <dl>\r\n    <Leyend>Categoría:</Leyend> <Deltail>{thisProductInfo?.category}</Deltail>\r\n<Leyend>Porción:</Leyend> <Deltail>{thisProductInfo?.size}</Deltail>\r\n<Leyend>Precio:</Leyend> <Deltail>${thisProductInfo?.price}</Deltail>\r\n <Leyend>Descripción:</Leyend> <Description>{thisProductInfo?.description}</Description>\r\n    </dl>\r\n  \r\n</ProductDetails>\r\n  );\r\n}\r\n\r\nexport default ProductDetailsPage","import { useEffect,useState} from 'react'\r\nimport {useParams,useLocation,useHistory} from 'react-router-dom'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default function useProductDetails(){\r\n\r\n  const {setIsLoading,cartProducts} = useStorage()\r\n  \r\nlet location = useLocation()\r\nlet history = useHistory()\r\nlet search = new URLSearchParams(location.search);\r\n\r\nlet goBackPath = search.get(\"from\");\r\n\r\nconst [isLoaded,setIsLoaded] = useState(false)\r\n const [thisProductInfo,setThisProductInf] = useState({})\r\n const {productId}=  useParams()\r\n\r\n\r\n useEffect(()=>{\r\n\r\n    setIsLoading(true)\r\n\r\n  const controller = new AbortController()\r\n const signal = controller.signal\r\n\r\n  const fechProducts = async () =>{\r\n  try{\r\n\r\n     let res = await fetch(`/api/products/${productId}`,{signal,})\r\n\r\n   if(res.status === 404) {\r\n            setIsLoading(false)\r\n      return history.push('/notFound')\r\n     }\r\n     let json = await res.json()\r\n\r\n    setThisProductInf(json.data)\r\n     setIsLoading(false)\r\n\r\n  }catch(err){\r\n    if(err.name === 'AbortError'){\r\n   console.log('Fetch Canseled: caught abort')\r\n }else{\r\n\r\n     console.log(err)\r\n    for(let i = 0; i < 6 ;i++){\r\n    fechProducts()\r\n\r\n        }\r\n\r\n \r\n  }\r\n}\r\n  }\r\n  fechProducts()\r\n \r\n  return () =>{\r\n     controller.abort()\r\n   }   \r\n   \r\n },[productId])\r\n\r\n \r\nlet isInShoppingCart = cartProducts.find(product => product.info._id === thisProductInfo?._id) ? true : false\r\n\r\nreturn{ isInShoppingCart,isLoaded,thisProductInfo,goBackPath,setIsLoaded}\r\n\r\n}","async function getUsers({token,setAllUsers}){\r\n       const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\n      headers.append('Authorization', `Bearer ${token}`);\r\n\r\n\r\n    const setting = {\r\n          method: 'GET',\r\n          headers: headers,\r\n\r\n        }\r\n    try{\r\n\r\nconst res = await fetch('/api/users', setting);\r\n  const data = await res.json()\r\nif (res.status === 200){\r\n\r\n  setAllUsers(data)\r\n\r\n}\r\n\r\n\r\n    }catch(err){\r\n\r\n      console.log(err)\r\n    }\r\n\r\n  };\r\n  \r\n  export default getUsers"],"sourceRoot":""}