(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[17],{101:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return J}));var n=t(3),s=t(2),a=t(1),o=t(5),i=t.n(o),l=t(9),u=t(11),c=t(73),d=t(6),b=t(7),p=t(41),m=t(87);function j(){return(j=Object(l.a)(i.a.mark((function e(r){var t,n,s,a,o,l,u,c,d,b,j,g,h,v,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.setFormIsLoading,n=r.setIsSuccessfullySend,s=r.setServerError,a=r.info,o=r.isAdmin,l=r.setAllUsers,u=r.token,c=r.setCurrentUser,d=r.history,e.prev=1,t(!0),s(""),b=localStorage.getItem("userId"),(j=new Headers).append("Accept","application/json"),j.append("Content-Type","application/json"),j.append("Authorization","Bearer ".concat(u)),g={method:"PUT",headers:j,body:JSON.stringify(a)},e.next=12,fetch("/api/users/me/".concat(b),g);case 12:return h=e.sent,e.next=15,h.json();case 15:if(v=e.sent,t(!1),200!==h.status){e.next=27;break}if(e.t0=o,!e.t0){e.next=22;break}return e.next=22,Object(m.a)({token:u,setAllUsers:l});case 22:return e.next=24,Object(p.a)({token:u,setCurrentUser:c});case 24:return n(!0),setTimeout((function(){n(!1),d.push("/myAccount/myProfile")}),3e3),e.abrupt("return");case 27:x=v.message,console.log(x),s(x),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(1),console.log(e.t1);case 35:case"end":return e.stop()}}),e,null,[[1,32]])})))).apply(this,arguments)}var g=function(e){return j.apply(this,arguments)};var h,v,x,f,O,w=t(39),S=t(75),y=t(81),C=t(85),A=t(17),k=t.p+"static/media/user-edit-solid.3b6cccdd.svg",N=t(0),P=s.b.section(h||(h=Object(n.a)(["\n    min-height:100vh;\nwidth:100vw;\npadding: 60px 0px;\n\n"]))),I=s.b.form(v||(v=Object(n.a)(["\n\n  max-width:400px;\n  width:100%;\n      padding: 10px 25px 40px;\n    border-radius: 10px;\n    background: #fff;\nmargin: 50px auto;\ndisplay:flex;\nflex-flow:column;\nalign-items:center;\n& > input {\n  border:none;\n  background: #f0f0f0;\n}\n&> label {\n  margin: 0 auto 20px\n}\n&> small {\nmargin: -10px auto 4px 0;\n}\n& >"," {\n  min-width: 100%\n}\n\n& > input:focus {\n  outline: 2px solid #ccc;\n    outline-style: auto;\n}\n  "])),C.i),L=s.b.div(x||(x=Object(n.a)(["\n  margin-top:-15px;\n  & > label{\nfont-size:16px;\n  }\n\n  "]))),U=s.b.img(f||(f=Object(n.a)(["\nwidth:120px;\nmargin: 0 auto;\nmargin-bottom:20px;\nmargin-top:-20px;\n"]))),E=Object(s.b)(A.a)(O||(O=Object(n.a)(['\nmargin-left: 15px;\n&:before{\n      content: "<-- ";\n    margin-right: 3px;\n}\n'])));function q(e){var r=e.setIsChangingPassword,t=e.value;return Object(N.jsxs)(C.b,{children:[Object(N.jsx)("label",{htmlFor:"newPasswordCheckbox",children:"Cambiar contrase\xf1a:"}),Object(N.jsx)("input",{onChange:function(e){r(!t)},id:"newPasswordCheckbox",type:"checkbox",name:"newPasswordCheckbox"})]})}function T(e){var r=e.register,t=e.errors,n=e.placeholder;return Object(N.jsxs)(a.Fragment,{children:[t.userNumber&&Object(N.jsx)(S.a,{role:"alert",children:t.userNumber.message}),Object(N.jsx)(S.b,{placeholder:n,name:"userNumber",type:"text",ref:r({required:"*El campo es requrido",minLength:{value:9,message:"*Tel\xe9fono Invalido"},maxLength:{value:10,message:"*Tel\xe9fono Invalido"},pattern:{value:/[0-9]/,message:"*Solo se aceptan n\xfameros"}}),style:{borderColor:t.userNumber&&"#bf0000"}})]})}function F(e){var r=e.register;return Object(N.jsxs)(C.i,{name:"userCityAddress",ref:r({required:"*El campo es requrido"}),children:[Object(N.jsx)(C.h,{value:"C\xf3rdoba",children:"C\xf3rdoba"}),Object(N.jsx)(C.h,{value:"Buenos Aires",children:"Buenos Aires"})]})}function B(e){var r=e.errors,t=e.placeholder,n=e.register;return Object(N.jsxs)(a.Fragment,{children:[r.userStreetAddress&&Object(N.jsx)(S.a,{role:"alert",children:r.userStreetAddress.message}),Object(N.jsx)(S.b,{placeholder:t,name:"userStreetAddress",ref:n({required:"*El campo es requrido"}),style:{borderColor:r.userStreetAddress&&"#bf0000"}})]})}function z(e){var r=e.errors,t=e.placeholder,n=e.register;return Object(N.jsxs)(a.Fragment,{children:[r.userStreetNumber&&Object(N.jsx)(S.a,{role:"alert",children:r.userStreetNumber.message}),Object(N.jsx)(S.b,{placeholder:t,name:"userStreetNumber",ref:n({required:"*El campo es requrido",maxLength:{value:4,message:"*N\xfamero Invalido"},pattern:{value:/[0-9]/,message:"*Solo se aceptan n\xfameros"}}),style:{borderColor:r.userStreetNumber&&"#bf0000"}})]})}function J(){var e=function(){var e=Object(b.a)(),r=e.token,t=e.setCurrentUser,n=e.setAllUsers,s=e.isAdmin,o=e.setIsSuccessfullySend,p=Object(a.useState)(""),m=Object(u.a)(p,2),j=m[0],h=m[1],v=Object(a.useState)(!1),x=Object(u.a)(v,2),f=x[0],O=x[1],w=Object(a.useState)(!1),S=Object(u.a)(w,2),y=S[0],C=S[1],A=Object(d.g)(),k=Object(c.a)({mode:"onBlur"});function N(){return(N=Object(l.a)(i.a.mark((function e(a,l){var u,c,d,b,p,m,j,v,x,f,O,w,S,y,k,N,P,I,L,U,E;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.preventDefault(),P=null===l||void 0===l||null===(u=l.target)||void 0===u||null===(c=u.userName)||void 0===c||null===(d=c.value)||void 0===d?void 0:d.toLowerCase(),I=null===l||void 0===l||null===(b=l.target)||void 0===b||null===(p=b.userLastName)||void 0===p||null===(m=p.value)||void 0===m?void 0:m.toLowerCase(),L=null===(j=l.target.userCityAddress)||void 0===j||null===(v=j.value)||void 0===v?void 0:v.toLowerCase(),U=null===(x=l.target.userStreetAddress)||void 0===x||null===(f=x.value)||void 0===f?void 0:f.toLowerCase(),E={name:P,lastName:I,password:(null===l||void 0===l||null===(O=l.target)||void 0===O||null===(w=O.userPassword)||void 0===w?void 0:w.value)||null,newPassword:(null===l||void 0===l||null===(S=l.target)||void 0===S||null===(y=S.userNewPassword)||void 0===y?void 0:y.value)||null,number:null===(k=l.target.userNumber)||void 0===k?void 0:k.value,city:L,street:U,streetNumber:null===(N=l.target.userStreetNumber)||void 0===N?void 0:N.value},e.next=5,g({setFormIsLoading:C,setIsSuccessfullySend:o,setServerError:h,info:E,isAdmin:s,setAllUsers:n,token:r,setCurrentUser:t,history:A});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{register:k.register,handleSubmit:k.handleSubmit,errors:k.formState.errors,onSubmit:function(e,r){return N.apply(this,arguments)},serverError:j,formIsLoading:y,isChangingPassword:f,setIsChangingPassword:O}}(),r=e.register,t=e.handleSubmit,n=e.errors,s=e.onSubmit,o=e.serverError,p=e.formIsLoading,m=e.isChangingPassword,j=e.setIsChangingPassword;return Object(N.jsxs)(P,{children:[Object(N.jsx)(E,{to:"/myAccount/myProfile",children:"Regresar"}),Object(N.jsxs)(I,{onSubmit:t(s),novalidate:!0,children:[Object(N.jsx)(U,{src:k,alt:"edit-profile"}),Object(N.jsx)(y.h,{errors:n,register:r}),Object(N.jsx)(y.g,{errors:n,register:r}),Object(N.jsx)(T,{errors:n,register:r,placeholder:"Tu tel\xe8fono..."}),Object(N.jsx)(F,{register:r}),Object(N.jsx)(B,{errors:n,register:r,placeholder:"Calle..."}),Object(N.jsx)(z,{errors:n,register:r,placeholder:"N\xfamero de puerta..."}),Object(N.jsx)(L,{children:Object(N.jsx)(q,{setIsChangingPassword:j,value:m})}),m?Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(y.j,{errors:n,register:r,name:"userPassword",placeholder:"Tu contrase\xf1a..."}),Object(N.jsx)(y.i,{errors:n,register:r,name:"newPassword",placeholder:"Nueva contrase\xf1a..."})]}):null,p?Object(N.jsx)(w.a,{small:!0}):Object(N.jsx)(y.a,{children:o}),Object(N.jsx)(C.e,{small:!0})]})]})}},87:function(e,r,t){"use strict";var n=t(5),s=t.n(n),a=t(9);function o(){return(o=Object(a.a)(s.a.mark((function e(r){var t,n,a,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.token,n=r.setAllUsers,(a=new Headers).append("Accept","application/json"),a.append("Authorization","Bearer ".concat(t)),o={method:"GET",headers:a},e.prev=5,e.next=8,fetch("/api/users",o);case 8:return i=e.sent,e.next=11,i.json();case 11:l=e.sent,200===i.status&&n(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}r.a=function(e){return o.apply(this,arguments)}}}]);
//# sourceMappingURL=17.a3b9c46d.chunk.js.map