{"version":3,"sources":["components/SortProductsOptions.js","components/menu/Menu.js","hooks/useMenu.js","components/ProductsSectionSkeletom.js","img/loupe.svg","components/MenuSearchBar.js","components/menu/MenuItem.js","components/FilterCategoryOptions.js","img/dashboard.svg","img/products.svg","img/categories.svg","img/orders.svg","img/users.svg","img/newProduct.svg","components/DashboardNav.js","API/deleteProductAPI.js","components/FilterProductsStateOptions.js","img/pencil-alt-solid.svg","components/dashboard/DashboardProducts.js","hooks/useDashboardProducts.js"],"names":["OptionList","styled","select","Option","option","SortProductsOptions","setSortPreferece","name","onChange","e","target","value","StyledMenu","main","SectionTitle","h2","props","light","theme","darckTextShadow","MenuWrapper","section","LoaderSpinner","CategoryTitle","h4","SearchBarWrapper","div","CategoryWrapper","darckRed","ProductsSection","isLoading","NotFaundMessage","ButtonsWrapper","black","darckYellow","ligthBoxShadow","FiltersBoard","Menu","history","useHistory","location","useLocation","categories","useStorage","populatedCategories","filter","category","quantity","query","URLSearchParams","useState","setIsLoading","page","setPage","maxPage","setMaxPage","products","setProducts","setCategory","sorting","setSorting","title","setTitle","isFirstRender","setIsFirstRender","append","useEffect","controller","AbortController","signal","a","search","split","fetch","res","json","data","total","parseInt","Math","ceil","push","document","querySelector","scrollTo","console","log","fechProducts","abort","useMenu","setSearch","map","index","FilterCategoryOptions","setCategoryPreferece","sortPreference","ProductsSectionSkeletom","length","product","data-testid","item","AddToCartButton","thisProductInfo","_id","onClick","Container","Item","figure","ImgContainer","TextLine","StyledSearchBar","form","SearchInput","input","lightBoxShadow","SerchIconeWrapper","SearchIcone","img","SearchBar","placeholder","onSubmit","preventDefault","searchString","type","src","loupe","alt","article","Figcaption","ProductLink","h3","Size","small","Price","isLoaded","defaultImage","Img","MenuItem","setIsLoaded","onLoad","id","pathname","price","size","children","FilerCategoryOptions","handelChange","bounce","keyframes","NavIcone","DashboarToggleTrigger","aside","isNavOpen","LinksModal","DashboardNav","setIsNavOpen","dashboardIcone","to","productsIcone","newProduct","usersIcone","categoriesIcone","ordersIcone","token","headers","Headers","setting","method","window","confirm","status","productsFetch","alert","deleteProductAPI","FilterProductsStateOptions","setStatePreferece","Title","StyledSection","EditButton","CartButton","DeleteOfDatabaseButton","Icone","CartIcon","StyledProductsSection","DashboardProducts","setProductToEdit","activeProducts","setActiveProducts","productsAPI","handleEdit","handleDelete","useDashboardProducts","editIcone","DeleteIcone"],"mappings":"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","file":"static/js/2.be0d2064.chunk.js","sourcesContent":["import styled  from 'styled-components'\r\n\r\n\r\nexport const OptionList = styled.select`\r\n    color: rgb(0 0 0 / 50%);\r\n    padding: 7px;\r\n    border-radius: 5px;\r\n    outline: none;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    margin: 0;\r\n    border: none;\r\n    margin-bottom: 20px;\r\n    background: #fff;\r\nbox-shadow: inset 1px 1px 6px 0px #ccc;\r\n    text-transform: capitalize;\r\n    margin: 0 20px 20px auto;\r\n\r\n`\r\nexport const Option = styled.option`\r\n&:checked{\r\n   background: #fcba1c;\r\n}\r\n`\r\nexport default function SortProductsOptions({setSortPreferece}){\r\n\r\n\r\nreturn(\r\n<OptionList name=\"sortProductBy\" onChange={(e) => setSortPreferece(e.target.value)}>\r\n<Option value=\"-createdAt\" >Más recientes</Option>\r\n<Option value=\"createdAt\" >Más antiguos</Option>\r\n<Option value=\"price\" >Menor precio</Option>\r\n<Option value=\"-price\" >Mayor precio</Option>\r\n<Option value=\"-sold\" >Populares</Option>\r\n\r\n</OptionList>\r\n\r\n);\r\n\r\n} ","import styled from 'styled-components'\r\nimport {Fragment}from 'react'\r\nimport { LoaderSpinner } from './../LoaderSpinner'\r\nimport ProductsSectionSkeletom from '../ProductsSectionSkeletom'\r\nimport useMenu from '../../hooks/useMenu'\r\nimport SearchBar from '../MenuSearchBar'\r\nimport SortProductsOptions from '../SortProductsOptions'\r\nimport FilterCategoryOptions from '../FilterCategoryOptions'\r\nimport Item from './MenuItem'\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\nconst StyledMenu = styled.main`\r\nmin-height:100vh;\r\nwidth:100vw;\r\npadding: 65px 0 20px;\r\nmargin:0;\r\nmargin-bottom:20px;\r\ntext-aling:center;\r\n\r\n`;\r\nexport const SectionTitle = styled.h2`\r\ntext-align:center;\r\ntext-transform: uppercase;\r\n    margin-bottom: 40px;\r\ncolor:${(props) => (props.light ? \"#fff\" : \"#fcba1c\")};\r\n text-shadow: ${props => props.theme.darckTextShadow};\r\n`;\r\nconst MenuWrapper = styled.section`\r\ndisplay:flex;\r\nflex-direction: column;\r\nflex-wrap: wrap;\r\npadding-bottom: 20px ;\r\nwidth:100%;\r\n    & >${LoaderSpinner} {\r\n  position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 500;\r\n    margin: -60px 0  0 -60px ;\r\n \r\n}\r\n`;\r\nconst CategoryTitle = styled.h4`\r\n    text-align: center;\r\n    line-height: 15px;\r\n    color: #fcba1c;\r\n    font-size: 28px;\r\n    margin: 10px 5px;\r\n text-shadow: ${props => props.theme.darckTextShadow};\r\n    text-transform: capitalize;\r\n&:before {\r\n  content:\".\";\r\n}\r\n`\r\nconst SearchBarWrapper = styled.div`\r\nwidth:100vw;\r\n    margin: 30px auto 40px\r\n`;\r\nconst CategoryWrapper = styled.section`\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    background: ${props => props.theme.darckRed};\r\n    justify-content: center;\r\n    margin: -10px 0 20px;\r\n    padding:  20px 15px;\r\n    box-shadow: inset 0 0 20px 0 #1111118c;\r\n\r\n`;\r\nexport const ProductsSection = styled.div`\r\n    &:before{\r\n    display: ${props => props.isLoading ? 'block' : 'none'};\r\n      position:absolute;\r\n      content:\" \";\r\n      top:0;\r\n      left:0;\r\n    right:0;\r\n    bottom:0;\r\n    background:#ffffff57;\r\n    z-index:400;\r\n    }\r\n    width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 0 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n\r\n`;\r\nexport const NotFaundMessage = styled.h4`\r\nmargin-top: 20px;\r\ndisplay:block;\r\nwidth:100%;\r\n`;\r\n\r\nexport const ButtonsWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:center;\r\nwidth:100%;\r\ngap:15px;\r\n&> button{\r\n  padding: 5px 10px 6px;\r\n  cursor:pointer;\r\n  background:${props => props.theme.black};\r\n    color:${props => props.theme.darckYellow};\r\nbox-shadow:${props => props.theme.ligthBoxShadow};\r\n    border:transparent;\r\n    outline:transparent;\r\n    fornt-size:20px;\r\n    font-family:oswald;\r\n    lettter-spacing: 1px;\r\n    border: 2px solid ${props => props.theme.darckYellow};\r\n}\r\n@media screen and (min-width:500px){\r\n  &> button{\r\n    transform:scale(1.1);\r\n  }\r\n}\r\n`;\r\n\r\nconst FiltersBoard = styled.div`\r\n    flex-wrap: wrap;\r\n    margin: 0 15px 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    max-width: max-content;\r\n    & > select {\r\n      margin: 0 10px 10px 0;\r\n   \r\n}\r\n\r\n`;\r\n\r\nfunction Menu() {\r\n\r\nconst {isLoading, maxPage, products,populatedCategories,sorting,page,setPage, setCategory, setSorting,setTitle} = useMenu()\r\n\r\n\r\n  return (\r\n\r\n\r\n    <StyledMenu>\r\n\r\n      <SectionTitle>Menú</SectionTitle>\r\n\r\n <SearchBarWrapper>\r\n\r\n          <SearchBar setSearch={setTitle}  />\r\n        </SearchBarWrapper>\r\n      <MenuWrapper>\r\n\r\n\r\n\r\n        <CategoryWrapper >\r\n          {populatedCategories?.map((category, index) =>\r\n\r\n            <CategoryTitle key={index}>{category.name}</CategoryTitle>\r\n\r\n          )}\r\n        </CategoryWrapper >\r\n\r\n\r\n       \r\n\r\n        <FiltersBoard>\r\n          <FilterCategoryOptions categories={populatedCategories} setCategoryPreferece={setCategory}  />\r\n          <SortProductsOptions setSortPreferece={setSorting} sortPreference={sorting} />\r\n        </FiltersBoard>\r\n\r\n  {isLoading  ?\r\n  <Fragment>\r\n  <ProductsSectionSkeletom/>\r\n   <LoaderSpinner />\r\n</Fragment>\r\n :  null }\r\n\r\n        <ProductsSection isLoading={isLoading}>\r\n\r\n          {   ( (!isLoading)   &&  (products?.length ===  0)) ?\r\n            <NotFaundMessage>No se han encontrado coincidencias, intenta de nuevo!!</NotFaundMessage>\r\n            :\r\n            products?.map(product =>\r\n            <Item data-testid='productItem' key={product._id} item={product} >\r\n                   <AddToCartButton thisProductInfo={product}/>\r\n            </Item>\r\n            )\r\n\r\n\r\n          }\r\n\r\n\r\n        </ProductsSection>\r\n\r\n\r\n      </MenuWrapper>\r\n\r\n\r\n        <ButtonsWrapper>\r\n          {\r\n            (page > 1) ? <button onClick={(e) => setPage(page - 1)} >\r\n           {'<< '}Prev</button> : null\r\n          }\r\n          {\r\n            (page < maxPage) ? <button onClick={(e) => setPage(page + 1)} >\r\n              Next{' >>'}</button> : null\r\n          }\r\n        </ButtonsWrapper>\r\n      \r\n    </StyledMenu>\r\n\r\n  );\r\n}\r\n\r\nexport default Menu","import { useEffect, useState } from 'react'\r\nimport {useHistory,useLocation} from 'react-router-dom'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default function useMenu(){\r\nconst history = useHistory()\r\nconst location = useLocation()\r\n    const {categories} = useStorage()\r\n    \r\n let populatedCategories = categories?.filter(category => category?.quantity > 0)\r\n\r\n  let query = new URLSearchParams();\r\n  let sizeLimit = 6\r\n  let activeProducts = true\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  let [products, setProducts] = useState([])\r\n  const [category, setCategory] = useState(\"all\")\r\n  const [sorting, setSorting] = useState(\"-createdAt\")\r\n  const [title, setTitle] = useState(\"\")\r\nconst [isFirstRender, setIsFirstRender] = useState(true)\r\n\r\n  query.append('active', activeProducts)\r\n  query.append('sort', sorting)\r\n  query.append('page', page)\r\n  query.append('limit', sizeLimit)\r\n    \r\n  \r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [sorting])\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    const controller = new AbortController()\r\n    const signal = controller.signal\r\n    setIsLoading(true)\r\n\r\n   \r\n\r\n    const fechProducts = async () => {\r\n\r\n     if( isFirstRender && location.search !==\"\"){\r\n\r\n        query =location.search.split('?')[1]\r\n\r\n        setIsFirstRender(false)\r\n      }\r\n \r\n      if (title !== \"\") {\r\n        query.append('title', title)\r\n        setPage(1)\r\n    setSorting('-createdAt')\r\n    setCategory('all')\r\n      }\r\n\r\n      if (category !== \"all\") {\r\n        query.append('category', category)\r\n        setPage(1)\r\n      }\r\n\r\n\r\n  \r\n\r\n     \r\n      try {\r\n\r\n        let res = await fetch(`/api/products?${query}`, { signal, })\r\n        let json = await res.json()\r\n\r\n        setProducts(json.data)\r\n\r\n        let total = parseInt(json.total)\r\n\r\n        setMaxPage(Math.ceil(total / sizeLimit))\r\n\r\n  history.push(`/menu?${query}`)\r\n\r\ndocument.querySelector('body').scrollTo(0,100)\r\n        setIsLoading(false)\r\n      } catch (err) {\r\n        if (err.name === 'AbortError') {\r\n          console.log('Fetch Canseled: caught abort')\r\n        } else {\r\n\r\n          console.log(err)\r\n          \r\n        }\r\n      }\r\n    }\r\n    fechProducts()\r\n \r\n    return () => {\r\n      controller.abort()\r\n    }\r\n  }, [title,sorting,page,category])\r\n\r\n\r\n\r\n\r\nreturn {isLoading, maxPage, products,populatedCategories,page,setPage,  setCategory, setSorting,setTitle}\r\n\r\n}","import styled from 'styled-components'\r\n\r\nconst Container = styled.section`\r\n width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 10px 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n`\r\n\r\nconst Item = styled.figure `\r\ndisplay:flex;\r\nbox-sizing:border-box;\r\nborder-radius:5px;\r\nposition:relative;\r\nmin-width: 250px;\r\nheight:350px;\r\nflex-flow:column;\r\nover-flow:hidden;\r\npadding:20px;\r\nborder: 1px solid #00000026;\r\nbox-shadow: 1px 1px 5px #00000057;\r\nbackground:#f3f3f3;\r\n`\r\nconst ImgContainer = styled.div`\r\nheight:150px;\r\nwidth:100%;\r\npositon:relative;\r\ndisplay:flex;\r\nbackground:#fff;\r\nmargin-bottom:10px;\r\nborder-radius:5px;\r\nbox-shadow: 0 1px 3px #ccc;\r\n \r\n`;\r\nconst TextLine = styled.div`\r\nheight:20px;\r\nwidth:100%;\r\nbackground:#fff;\r\nmargin: 10px auto;\r\nbox-shadow: 0 1px 3px #ccc;\r\n`\r\nexport default function ProductsSectionSkeletom() {\r\n  \r\n  return(\r\n<Container>\r\n  <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n  <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n<Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n<Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n</Container>\r\n\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/loupe.21575f61.svg\";","import styled from 'styled-components'\r\nimport loupe from '../img/loupe.svg'\r\n\r\nconst StyledSearchBar = styled.form`\r\nwidth:max-content;\r\nmargin:0 auto;\r\nposition:relative;\r\n`;\r\nconst SearchInput = styled.input`\r\nposition:relative;\r\nwidth:200px;\r\npadding: 8px;\r\npadding-left: 15px;\r\nborder-radius: 15px;\r\noutline: none;\r\nbox-shadow: ${props => props.theme.lightBoxShadow};\r\ntransition: all 0.5s ease;\r\nborder:none;\r\nmargin-left: -6px;\r\nposition: relative;\r\n&:focus{\r\n  width:250px;\r\nbox-shadow: 0 0 10px rgba(0,0,0,0.2);\r\n  \r\n}\r\n&::placeholder {\r\n    font-size: 14px;\r\n\r\n}\r\n&:focus + div{\r\n  margin-left: 210px;\r\n  \r\n}\r\n&::-webkit-search-cancel-button{\r\n  display:none;\r\n}\r\n`;\r\nconst SerchIconeWrapper = styled.div`\r\nwidth:30px;\r\nheight:30px;\r\nposition:absolute;\r\nmargin-top:-34px;\r\nmargin-left: 160px;\r\ntransition: all 0.5s ease;\r\ntransform:scale(0.7);\r\n`\r\nconst SearchIcone = styled.img` \r\nheight: 100%;\r\n`;\r\nexport default function SearchBar({setSearch ,placeholder}){\r\n\r\nconst resetFilter = (e) =>{\r\n  if(e.target.value ===\"\"){\r\nsetSearch(\"\")\r\n  }\r\n}\r\n\r\nconst handelSubmit = (e) =>{\r\n e.preventDefault()\r\n\r\n  let searchString = e.target?.search?.value\r\nsetSearch(searchString)\r\n}\r\n  return(\r\n<StyledSearchBar onSubmit={handelSubmit}>\r\n<SearchInput name=\"search\" placeholder={placeholder || 'Buscar...'} type=\"search\" onChange={resetFilter}/>\r\n<SerchIconeWrapper ><SearchIcone src={loupe} alt=\"search\"/></SerchIconeWrapper>\r\n</StyledSearchBar>\r\n  );\r\n\r\n}","import styled  from 'styled-components'\r\nimport { useState} from 'react'\r\nimport {useHistory,useLocation} from 'react-router-dom';\r\nimport defaultImage from '../../img/default-image.png';\r\n\r\n\r\n\r\nconst Item = styled.article `\r\ndisplay:flex;\r\nbox-sizing:border-box;\r\nborder-radius:5px;\r\nposition:relative;\r\n\r\nmin-width: 250px;\r\nheight:350px;\r\nflex-flow:column;\r\nover-flow:hidden;\r\npadding:20px;\r\nborder: 1px solid #00000026;\r\nbox-shadow: 1px 1px 5px #00000057;\r\n`\r\nconst Figcaption =styled.div`\r\ndisplay:flex;\r\nalign-items:center;\r\npadding-bottom:5px;\r\n`;\r\nconst ProductLink =styled.h3`\r\ntext-decoration:none;\r\nmargin-bottom:2px;\r\n  color: #272727;\r\nletter-spasing:0;\r\ncursor:pointer;\r\nline-height:35px;\r\ntext-transform:capitalize ;\r\ntransition: all 0.5s;\r\n  font-family: \"Oswald\", sans-serif;\r\n  font-size: 25px;\r\n&:hover {\r\n      color: color: rgb(0 0 0 / 50%);\r\n\r\n}\r\n`\r\n\r\nconst Size = styled.small`\r\nalign-self: flex-start;\r\n    color: rgba(0,0,0,0.8);\r\n    font-weight: 600;\r\n    margin: 10px;\r\n    margin-top: 8px;\r\n`;\r\nconst Price = styled.h4 `\r\n    align-self: end;\r\n    color: #fcba1c;\r\n    margin:0;\r\n&:before{\r\n  content:\"$\";\r\n}\r\n`\r\n\r\nconst ImgContainer = styled.div`\r\nheight:150px;\r\nwidth:100%;\r\noverflow:hidden;\r\npositon:relative;\r\ndisplay:flex;\r\njustify-content:center;\r\nmargin-bottom:10px;\r\nborder-radius:5px;\r\nbox-shadow: 0 1px 3px #ccc;\r\n    background-image: ${props => props.isLoaded ? 'none' : `url(${defaultImage})`};\r\n    background-repeat: no-repeat;\r\n    background-size: auto 100%;\r\n    backface-visibility: hidden;\r\n    background-position: center;\r\n`;\r\nconst Img = styled.img`\r\ntransition:all 0.5s ease;\r\nheight:100%;\r\n&:hover{\r\n  transform:scale(0.8);\r\n}\r\n\r\n`;\r\n function MenuItem(props){\r\n  let history = useHistory()\r\n let location = useLocation()\r\n  const item = props.item;\r\n  const [isLoaded,setIsLoaded] = useState(false)\r\n\r\n\r\nconst handleRedirect = (id) =>{\r\n  return  history.push({\r\n  pathname: '/menu/'+id,\r\n  search: '?from='+location.pathname,\r\n\r\n})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  return(\r\n  <Item key={item._id}>\r\n\r\n<ImgContainer isLoaded={isLoaded}> \r\n\r\n<Img src={item?.img} onLoad={()=> setIsLoaded(true)} alt={item.name}></Img>\r\n\r\n\r\n\r\n</ImgContainer>\r\n\r\n      <ProductLink onClick={ () => handleRedirect(item._id)}>{item.name}</ProductLink>  \r\n   <Figcaption><Price >{item.price}</Price> <Size>{item.size}  </Size>  </Figcaption> \r\n        \r\n          {\r\n          props.children\r\n          }\r\n        \r\n      \r\n   </Item>\r\n   );\r\n}\r\n\r\nexport default MenuItem\r\n","\r\nimport {Option,OptionList} from './SortProductsOptions'\r\n\r\nexport default function FilerCategoryOptions({categories,setCategoryPreferece}){\r\n\r\n  const handelChange = (e) =>{\r\n e.preventDefault()\r\n setCategoryPreferece(e.target.value)\r\n}\r\n\r\nreturn(\r\n<OptionList name=\"filterProductsByCategory\" onChange={(e) =>handelChange(e)}>\r\n\r\n<Option value=\"all\" >Todas las categorías</Option\r\n>\r\n{categories?.map( category => \r\n  \r\n  <Option value={category.name} key={category._id} >{category.name}</Option>\r\n  \r\n  )}\r\n\r\n\r\n</OptionList>\r\n\r\n);\r\n\r\n} ","export default __webpack_public_path__ + \"static/media/dashboard.b7777ba1.svg\";","export default __webpack_public_path__ + \"static/media/products.b4b63cee.svg\";","export default __webpack_public_path__ + \"static/media/categories.bb39c9dc.svg\";","export default __webpack_public_path__ + \"static/media/orders.1d7f225d.svg\";","export default __webpack_public_path__ + \"static/media/users.93b18c33.svg\";","export default __webpack_public_path__ + \"static/media/newProduct.bd3165c0.svg\";","import styled, { keyframes }  from 'styled-components'\r\nimport {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport dashboardIcone from '../img/dashboard.svg'\r\nimport productsIcone from '../img/products.svg'\r\nimport categoriesIcone from '../img/categories.svg'\r\nimport ordersIcone from '../img/orders.svg'\r\nimport usersIcone from '../img/users.svg'\r\nimport newProduct from '../img/newProduct.svg'\r\n\r\nconst bounce = keyframes `\r\n\r\n  0% { transform: scale(1.1); }\r\n  50% { transform:  scale(1.2); }\r\n  100% { transform: scale(1.1); }\r\n`\r\n const NavIcone = styled.img` \r\n    transition: all 0.3s ease;\r\n    width: 20px;\r\n    cursor: pointer;\r\n    &:hover{\r\n      transform: scale(1.1);\r\n    }\r\n    &:before{\r\n          content: \" \";\r\n    background: rgb(0 0 0 / 20%);\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    box-sizing: content-box;\r\n    padding: 20px;\r\n    }\r\n  `;\r\nconst DashboarToggleTrigger= styled.aside `\r\nposition:fixed;\r\n   z-index:900;\r\n  left:5px;\r\n top: 60px;\r\ndisplay:flex;\r\nflex-direction:column;\r\njustify-content:center;\r\n   background: ${(props) =>(props.isNavOpen === true  ? \"#ffffff\" : \"transparent\")};\r\ngap:5px;\r\n    border-radius: 5px;\r\n    padding: 10px;\r\n   box-shadow: ${(props) =>(props.isNavOpen === true  ? \" 0 0 5px 0 rgb(0 0 0 / 50%)\" : \"none\")};\r\n    transition: all 0.5s ;\r\n& > img:first-child{\r\n\r\n  animation: ${bounce} 1s linear infinite;\r\n}\r\n  `; \r\n \r\n  const LinksModal = styled.div`\r\n\r\n    transition: all 1s ;\r\nmargin-left: ${(props) =>(props.isNavOpen === true  ? \"0\" : \"-150px\")};\r\ngap:5px;\r\ndisplay: ${(props) =>(props.isNavOpen === true  ? \"flex\" : \"none\")};\r\nflex-direction:column;\r\n  `;\r\n\r\n  export default function DashboardNav(){\r\nconst [isNavOpen,setIsNavOpen] = useState(false)\r\n\r\n    return(\r\n<DashboarToggleTrigger isNavOpen={isNavOpen}>\r\n  \r\n  <NavIcone onClick={(e)=>{setIsNavOpen(!isNavOpen)}} src={dashboardIcone} title='Dashboard Menu' />\r\n  <LinksModal isNavOpen={isNavOpen}>\r\n <Link to='/dashboard/myProducts' ><NavIcone src={productsIcone} title='Productos' /></Link>\r\n  <Link to='/dashboard/newProduct'><NavIcone src={newProduct} title='Crear nuevo producto' /></Link>\r\n   <Link to='/dashboard/users'><NavIcone src={usersIcone} title='usuarios' /></Link>\r\n  <Link to='/dashboard/categories'><NavIcone src={categoriesIcone} title='Categorias' /></Link> \r\n <Link to='/dashboard/orders'><NavIcone src={ordersIcone} title='Pedidos' /></Link>   \r\n </LinksModal>\r\n</DashboarToggleTrigger>\r\n\r\n    );\r\n  }","async function deleteProductAPI(token,id,setProducts){\r\n\r\n     const headers = new Headers();\r\n        headers.append('Accept', 'application/json');\r\n     headers.append('Authorization', `Bearer ${token}`);\r\n\r\n\r\n        const setting = {\r\n          method: 'DELETE',\r\n          headers: headers,\r\n\r\n        }\r\n\r\nconst deleteConfirmation = window.confirm('El producto será eliminado de la base de datos ¿Esta seguro? ');\r\n\r\nif(deleteConfirmation){\r\n\r\ntry {\r\n      \r\n\r\n  \r\n  \r\n  let res = await fetch(`/api/products/${id}`, setting);\r\n\r\n\r\n        if(res.status  === 204 ) {\r\n\r\n          let productsFetch = await fetch('/api/products?page=1&limit=6')\r\n          let {data} = await productsFetch.json()\r\n          setProducts(data)\r\n        }\r\n       \r\n   \r\n        if(res.status === 403) return   alert('Se require rol de Administrador') \r\n\r\n      } catch (err) {\r\n\r\n        console.log(err)\r\n      }\r\n\r\n}else{\r\n  return\r\n}\r\n  \r\n\r\n  }\r\n\r\n  \r\n\r\n\r\nexport default deleteProductAPI","\r\nimport {Option,OptionList} from './SortProductsOptions'\r\n\r\nexport default function FilterProductsStateOptions({setStatePreferece,setPage}){\r\n\r\n  const handelChange = (e) =>{\r\n e.preventDefault()\r\n     setPage(1)\r\n setStatePreferece(e.target.value)\r\n}\r\n\r\nreturn(\r\n<OptionList name=\"filterProductsByState\" onChange={(e) =>handelChange(e)}>\r\n<Option value=\"all\" >Todos</Option>\r\n<Option value=\"active\" >Activos</Option>\r\n<Option value=\"inactive\" >Inactivos</Option>\r\n</OptionList>\r\n\r\n);\r\n\r\n} ","export default __webpack_public_path__ + \"static/media/pencil-alt-solid.40dde303.svg\";","  \r\nimport styled  from 'styled-components'\r\nimport useDashboardProducts from '../../hooks/useDashboardProducts'\r\nimport ProductsSectionSkeletom from '../ProductsSectionSkeletom'\r\nimport {  Fragment } from 'react'\r\nimport SearchBar from '../MenuSearchBar'\r\nimport {LoaderSpinner} from './../LoaderSpinner'\r\nimport DashboardNav from '../DashboardNav'\r\nimport FilterProductsStateOptions from '../FilterProductsStateOptions'\r\nimport FilterCategoryOptions from '../FilterCategoryOptions'\r\nimport {SectionTitle,ProductsSection,NotFaundMessage,ButtonsWrapper} from '../menu/Menu'\r\nimport Item from '../menu/MenuItem'\r\nimport {CartButton,CartIcon} from '../AddToCartButton'\r\nimport editIcone from '../../img/pencil-alt-solid.svg'\r\nimport DeleteIcone from '../../img/trash-alt-regular.svg'\r\n\r\nconst Title = styled(SectionTitle)`\r\nmargin-bottom:40px;\r\n`\r\nconst StyledSection = styled.section`\r\nmin-height:100vh;\r\nwidth:100vw;\r\npadding:60px 0;\r\n  &:before{\r\n    display: ${props => props.isLoading ? 'block' : 'none'};\r\n      position:absolute;\r\n      content:\" \";\r\n      top:0;\r\n      left:0;\r\n    right:0;\r\n    bottom:0;\r\n    background:#ffffff57;\r\n    z-index:400;\r\n    }\r\n       & >${LoaderSpinner} {\r\n  position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 500;\r\n    margin: -60px 0  0 -60px ;\r\n \r\n}\r\n`\r\nexport const FiltersBoard = styled.div`\r\nmargin: 30px 15px 0;\r\n    display: flex;\r\n    width: fit-content;\r\n    align-items: center;\r\n justify-content: flex-start;\r\nflex-wrap: wrap;\r\n& > select {\r\n      margin: 0 10px 10px 0;\r\n   \r\n}\r\n`;\r\nconst EditButton = styled(CartButton)`\r\n    height: 50px;\r\nbackground:  #3f51b5 ;\r\ntransform: scale(0.7);\r\n`;\r\nconst DeleteOfDatabaseButton = styled(EditButton)`\r\nmargin:0;\r\nbackground: #e83c2e;\r\nmargin-top:-50px;\r\n    background: #e83c2e;\r\n    margin-top: -50px;\r\n    margin-left: auto;\r\n    margin-right: 50px;\r\n`\r\nconst Icone = styled(CartIcon)`\r\ntransform:scale(1.2);\r\n`;\r\n\r\nconst StyledProductsSection = styled(ProductsSection)`\r\nmargin: 20px auto;\r\n`;\r\n\r\n\r\n export default function DashboardProducts(){\r\n\r\n  \r\n\r\n\r\n  let {populatedCategories,isLoading,page,maxPage,products,setCategory,setTitle,\r\nhandleEdit,handleDelete,setPage,setActiveProducts} = useDashboardProducts( )\r\n\r\n\r\n  return(\r\n<StyledSection>\r\n\r\n    <DashboardNav/>\r\n<Title>mis productos</Title>\r\n\r\n\r\n\r\n<SearchBar setSearch={setTitle} />\r\n<FiltersBoard>\r\n  <FilterCategoryOptions categories={populatedCategories} setCategoryPreferece={setCategory}  />\r\n\r\n<FilterProductsStateOptions  setStatePreferece={setActiveProducts} />\r\n\r\n</FiltersBoard>\r\n\r\n  {isLoading  ?\r\n  <Fragment>\r\n  <ProductsSectionSkeletom/>\r\n   <LoaderSpinner />\r\n</Fragment>\r\n :  null }\r\n\r\n  \r\n  {   ( (!isLoading)   &&  products?.length === 0) ?\r\n  \r\n  <NotFaundMessage>No se han encontrado coincidencias, intenta de nuevo!!</NotFaundMessage>\r\n\r\n  :\r\n<StyledProductsSection isLoading={isLoading}>\r\n\r\n{products?.map( product => \r\n <Fragment key={product._id+\"abc\"}>\r\n <Item  key={product._id} item={product}>\r\n   <Fragment>\r\n<EditButton  onClick={ () => handleEdit(product)} >\r\n     <Icone src={editIcone} alt=\"edit\"/>\r\n</EditButton>\r\n   <DeleteOfDatabaseButton  onClick={ () =>handleDelete(product._id)}>\r\n   <Icone src={DeleteIcone} alt=\"delete\"/>\r\n   </DeleteOfDatabaseButton>\r\n   </Fragment>\r\n   \r\n   </Item>\r\n    \r\n </Fragment>\r\n  ) }\r\n\r\n</StyledProductsSection>\r\n}\r\n\r\n<ButtonsWrapper>\r\n{\r\n(page > 1) ?  <button onClick={(e) => setPage(page -1)} >\r\n{'<< '}Prev</button> : null\r\n}\r\n{\r\n(page < maxPage) ?  <button onClick={(e) => setPage(page + 1)} >\r\nNext{' >>'}</button> : null\r\n}\r\n</ButtonsWrapper>\r\n\r\n</StyledSection>\r\n  )\r\n}\r\n\r\n\r\n\r\n","import {useHistory,useLocation} from 'react-router-dom'\r\nimport { useEffect,useState } from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\nimport deleteProductAPI from '../API/deleteProductAPI'\r\n\r\n\r\nexport default function useDashboarProducts(){\r\nconst history = useHistory()\r\nconst location = useLocation()\r\n\r\nconst {categories,token,setProductToEdit}= useStorage()\r\n  \r\n let populatedCategories = categories?.filter(category => category?.quantity > 0)\r\n\r\n let query = new URLSearchParams();\r\n    let sizeLimit = 6\r\n\r\n \r\n  const [category, setCategory] = useState(\"all\")\r\n  const[isLoading,setIsLoading] = useState(false)\r\n    const [page, setPage] = useState(1)\r\n    const [maxPage, setMaxPage] = useState(1)\r\n    let [products, setProducts] = useState(null)\r\n    let [activeProducts,setActiveProducts] =useState('all')\r\n   const [title,setTitle] =useState(\"\")\r\nconst [isFirstRender, setIsFirstRender] = useState(true)\r\n\r\n   query.append('page',page)\r\n   query.append('limit',sizeLimit)\r\n\r\n\r\n  \r\n\r\n\r\nuseEffect(() => {\r\n  const controller = new AbortController()\r\n const signal = controller.signal\r\nconst productsAPI = async () =>{\r\n    setIsLoading(true)\r\n  try{\r\n\r\n   if( isFirstRender && location.search !==\"\"){\r\n\r\n        query=location.search.split('?')[1]\r\n\r\n        setIsFirstRender(false)\r\n      }\r\n\r\n   if(title !==\"\"){ \r\n      query.append('title',title)\r\n      setPage(1)\r\nsetActiveProducts('all')\r\nsetCategory('all')\r\n    }\r\n\r\n      if (category !== \"all\") {\r\n        query.append('category', category)\r\n        setPage(1)\r\n      }\r\n\r\n    if(activeProducts !== \"all\"){\r\n\r\nquery.append('active',activeProducts)\r\nsetPage(1)\r\n    }\r\n     let res = await fetch(`/api/products?${query}`,{signal,})\r\n     let json = await res.json()\r\n\r\n    setProducts(json.data)\r\n\r\n    let total = parseInt(json.total)\r\n\r\n     setMaxPage(Math.ceil(total/sizeLimit))\r\n\r\n  history.push(`/dashboard/myProducts?${query}`)\r\ndocument.querySelector('body').scrollTo(0,100)\r\n\r\n     setIsLoading(false)\r\n  }catch(err){\r\n    if(err.name === 'AbortError'){\r\n   console.log('Fetch Canseled: caught abort')\r\n }else{\r\n\r\n     console.log(err)\r\n\r\n  }\r\n}\r\n  }\r\n\r\n  productsAPI()\r\n \r\n     return () =>{\r\n     controller.abort()\r\n   }   \r\n }, [title,activeProducts,page,category,sizeLimit])\r\n\r\n\r\n     \r\n\r\n\r\n\r\n\r\n  const handleEdit = (product) =>{\r\n  console.log(product)\r\nsetProductToEdit(product);\r\n\r\n return history.push(\"/dashboard/editProduct\")\r\n  }\r\n\r\nconst handleDelete = async(id) =>{\r\nawait deleteProductAPI(token,id,setProducts)\r\n\r\n}\r\n  return {populatedCategories,isLoading,page,maxPage,products,setCategory,setTitle,\r\nhandleEdit,handleDelete,setPage,setActiveProducts,setProducts}\r\n\r\n\r\n}"],"sourceRoot":""}